# โก ุฅุนุฏุงุฏุงุช Vitest ุงููุญุณูุฉ - Kaleem Frontend

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅูุดุงุก ูุฌููุนุฉ ูู ูููุงุช ุฅุนุฏุงุฏุงุช Vitest ุงููุญุณูุฉ ูุชุญุณูู ุฃุฏุงุก ุงูุงุฎุชุจุงุฑุงุช ูุชูุธูููุง ุญุณุจ ุงูุงุญุชูุงุฌุงุช ุงููุฎุชููุฉ.

## ๐๏ธ ูููุงุช ุงูุฅุนุฏุงุฏุงุช

### 1. **`vitest.config.ts`** - ุงูุฅุนุฏุงุฏ ุงูุฑุฆูุณู
- **ุงูุงุณุชุฎุฏุงู:** ุงูุงุฎุชุจุงุฑุงุช ุงูุนุงุฏูุฉ
- **ุงูููุฒุงุช:**
  - ุฅุนุฏุงุฏุงุช ูุชูุงุฒูุฉ ููุฃุฏุงุก ูุงูุชุบุทูุฉ
  - ุนุชุจุงุช ุชุบุทูุฉ: 75% ุนุงูุ 85% ููููููุงุช ุงูุฃุณุงุณูุฉ
  - 4 forks ูุชูุงุฒูุฉ
  - timeout: 20 ุซุงููุฉ ููุงุฎุชุจุงุฑุ 10 ุซูุงูู ููู hooks

### 2. **`vitest.config.fast.ts`** - ุงุฎุชุจุงุฑุงุช ุณุฑูุนุฉ
- **ุงูุงุณุชุฎุฏุงู:** ุงุฎุชุจุงุฑุงุช ุณุฑูุนุฉ ููู CI/CD
- **ุงูููุฒุงุช:**
  - fork ูุงุญุฏ ููุฃุฏุงุก ุงูุฃูุถู
  - timeout: 10 ุซูุงูู ููุงุฎุชุจุงุฑุ 5 ุซูุงูู ููู hooks
  - ุนุชุจุงุช ุชุบุทูุฉ: 70%
  - ุฅุนุฏุงุฏุงุช ูุจุณุทุฉ

### 3. **`vitest.config.comprehensive.ts`** - ุงุฎุชุจุงุฑุงุช ุดุงููุฉ
- **ุงูุงุณุชุฎุฏุงู:** ุงุฎุชุจุงุฑุงุช ุงูุชุบุทูุฉ ุงููุงููุฉ
- **ุงูููุฒุงุช:**
  - 2-4 forks ูุชูุงุฒูุฉ
  - timeout: 30 ุซุงููุฉ ููุงุฎุชุจุงุฑุ 15 ุซุงููุฉ ููู hooks
  - ุนุชุจุงุช ุชุบุทูุฉ: 80% ุนุงูุ 90% ููููููุงุช ุงูุฃุณุงุณูุฉ
  - ุชูุงุฑูุฑ ูุชุนุฏุฏุฉ (HTML, LCOV, Cobertura)

### 4. **`vitest.config.parallel.ts`** - ุงุฎุชุจุงุฑุงุช ูุชูุงุฒูุฉ
- **ุงูุงุณุชุฎุฏุงู:** ุฃูุตู ุฃุฏุงุก ูุชูุงุฒู
- **ุงูููุฒุงุช:**
  - 4-8 forks ูุชูุงุฒูุฉ
  - timeout: 15 ุซุงููุฉ ููุงุฎุชุจุงุฑุ 8 ุซูุงูู ููู hooks
  - ุนุชุจุงุช ุชุบุทูุฉ: 75%
  - ุฅุนุฏุงุฏุงุช ููุฃุฏุงุก ุงูุฃูุตู

### 5. **`vitest.config.e2e.ts`** - ุงุฎุชุจุงุฑุงุช E2E
- **ุงูุงุณุชุฎุฏุงู:** ุงุฎุชุจุงุฑุงุช End-to-End
- **ุงูููุฒุงุช:**
  - fork ูุงุญุฏ ูุน ุนุฒู ูุงูู
  - timeout: 60 ุซุงููุฉ ููุงุฎุชุจุงุฑุ 30 ุซุงููุฉ ููู hooks
  - ุนุชุจุงุช ุชุบุทูุฉ: 60%
  - ุฅุนุฏุงุฏุงุช ูุชุฎุตุตุฉ ูู E2E

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### **ุงูุงุฎุชุจุงุฑุงุช ุงูุนุงุฏูุฉ:**
```bash
npm test                    # ุชุดุบูู ุนุงุฏู
npm run test:run           # ุชุดุบูู ูุฑุฉ ูุงุญุฏุฉ
npm run test:watch         # ูุฑุงูุจุฉ ุงูุชุบููุฑุงุช
npm run test:ui            # ูุงุฌูุฉ ุงููุณุชุฎุฏู
```

### **ุงูุงุฎุชุจุงุฑุงุช ุงูุณุฑูุนุฉ:**
```bash
npm run test:fast          # ุงุฎุชุจุงุฑุงุช ุณุฑูุนุฉ
npm run test:ci            # ุงุฎุชุจุงุฑุงุช CI
npm run test:debug         # ุงุฎุชุจุงุฑุงุช debug
```

### **ุงูุงุฎุชุจุงุฑุงุช ุงูุดุงููุฉ:**
```bash
npm run test:comprehensive # ุงุฎุชุจุงุฑุงุช ุดุงููุฉ
npm run test:coverage      # ุงุฎุชุจุงุฑุงุช ูุน ุงูุชุบุทูุฉ
npm run test:parallel      # ุงุฎุชุจุงุฑุงุช ูุชูุงุฒูุฉ
```

### **ุงุฎุชุจุงุฑุงุช E2E:**
```bash
npm run test:e2e           # ุงุฎุชุจุงุฑุงุช E2E
npm run e2e                # Playwright E2E
```

### **ุฌููุน ุงูุงุฎุชุจุงุฑุงุช:**
```bash
npm run test:all           # ุชุดุบูู ุฌููุน ุงูุฃููุงุน
```

## ๐ ููุงุฑูุฉ ุงูุฃุฏุงุก

| ุงูุฅุนุฏุงุฏ | Forks | Timeout | Coverage | ุงูุงุณุชุฎุฏุงู |
|---------|-------|---------|----------|-----------|
| **Fast** | 1 | 10s | 70% | CI/CD ุงูุณุฑูุน |
| **Main** | 4 | 20s | 75% | ุงูุงุณุชุฎุฏุงู ุงููููู |
| **Comprehensive** | 2-4 | 30s | 80% | ุงูุชุบุทูุฉ ุงููุงููุฉ |
| **Parallel** | 4-8 | 15s | 75% | ุงูุฃุฏุงุก ุงูุฃูุตู |
| **E2E** | 1 | 60s | 60% | ุงุฎุชุจุงุฑุงุช E2E |

## ๐ง ุฅุนุฏุงุฏุงุช ูุฎุตุตุฉ

### **ุฅุนุฏุงุฏุงุช ุงูุฃุฏุงุก:**
```typescript
// ูู ููู ุงูุฅุนุฏุงุฏุงุช
test: {
  pool: 'forks',           // ุงุณุชุฎุฏุงู forks ุจุฏูุงู ูู threads
  poolOptions: {
    forks: {
      singleFork: false,   // ุงูุณูุงุญ ุจู forks ูุชุนุฏุฏุฉ
      maxForks: 4,         // ุนุฏุฏ ุฃูุตู ูู forks
      minForks: 2,         // ุนุฏุฏ ุฃุฏูู ูู forks
      isolate: false,      // ุฅููุงู ุงูุนุฒู ููุฃุฏุงุก
      memoryLimit: '2GB',  // ุญุฏ ุงูุฐุงูุฑุฉ ููู fork
    }
  },
  maxConcurrency: 4,       // ุนุฏุฏ ุงูุงุฎุชุจุงุฑุงุช ุงููุชุฒุงููุฉ
}
```

### **ุฅุนุฏุงุฏุงุช ุงูุชูููุช:**
```typescript
test: {
  testTimeout: 20000,      // timeout ููุงุฎุชุจุงุฑ
  hookTimeout: 10000,      // timeout ููู hooks
  teardownTimeout: 8000,   // timeout ููุชูุธูู
}
```

### **ุฅุนุฏุงุฏุงุช ุงูุชุบุทูุฉ:**
```typescript
coverage: {
  provider: 'v8',          // ูุฒูุฏ ุงูุชุบุทูุฉ
  reporter: ['text', 'json', 'html', 'lcov'],
  thresholds: {
    global: {
      branches: 75,        // ุนุชุจุฉ ุงููุฑูุน
      functions: 75,       // ุนุชุจุฉ ุงูุฏูุงู
      lines: 75,           // ุนุชุจุฉ ุงูุฃุณุทุฑ
      statements: 75       // ุนุชุจุฉ ุงูุนุจุงุฑุงุช
    }
  }
}
```

## ๐ฏ ุนุชุจุงุช ุงูุชุบุทูุฉ

### **ุงูุนุชุจุงุช ุงูุนุงูุฉ:**
- **Fast:** 70%
- **Main:** 75%
- **Comprehensive:** 80%
- **Parallel:** 75%
- **E2E:** 60%

### **ุนุชุจุงุช ุงูููููุงุช ุงูุฃุณุงุณูุฉ:**
- **App:** 85%
- **Context:** 85%
- **Auth:** 85%

## ๐ ูููุงุช Setup

### **`src/test/setup.ts`** - ุงูุฅุนุฏุงุฏ ุงูุนุงู
- Mock ููู console methods
- Mock ููู JSDOM APIs
- Mock ููู Browser APIs
- Utilities ูุณุงุนุฏุฉ

### **`src/test/setup-e2e.ts`** - ุฅุนุฏุงุฏ E2E
- Mock ููู fetch API
- Mock ููู localStorage
- Mock ููู FormData
- Mock ููู FileReader

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### **ูุดุงูู ุดุงุฆุนุฉ:**

#### **1. ุงูุงุฎุชุจุงุฑุงุช ุจุทูุฆุฉ:**
```bash
# ุงุณุชุฎุฏุงู ุงูุฅุนุฏุงุฏ ุงูุณุฑูุน
npm run test:fast

# ุชูููู ุนุฏุฏ Forks
# ุชุนุฏูู maxForks ูู ุงูุฅุนุฏุงุฏุงุช
```

#### **2. ูุดุงูู ุงูุฐุงูุฑุฉ:**
```bash
# ุชูููู memoryLimit
memoryLimit: '1GB'

# ุชูููู ุนุฏุฏ Forks
maxForks: 2
```

#### **3. ูุดุงูู ุงูุชูููุช:**
```bash
# ุฒูุงุฏุฉ timeout
testTimeout: 30000

# ุฒูุงุฏุฉ hook timeout
hookTimeout: 15000
```

### **ุฃูุงูุฑ ุงูุชุดุฎูุต:**
```bash
# ุงุฎุชุจุงุฑ ูุน verbose
npm run test:debug

# ุงุฎุชุจุงุฑ ูุงุญุฏ
npm test -- src/path/to/test.test.tsx

# ุงุฎุชุจุงุฑ ูุน coverage
npm run test:coverage
```

## ๐ ุชุญุณููุงุช ุงูุฃุฏุงุก

### **ูุตุงุฆุญ ููุชุญุณูู:**

1. **ุงุณุชุฎุฏุงู Forks ุจุฏูุงู ูู Threads:**
   ```typescript
   pool: 'forks'  // ุฃูุถู ููุฃุฏุงุก
   ```

2. **ุฅููุงู ุงูุนุฒู:**
   ```typescript
   isolate: false  // ุฃุณุฑุน
   ```

3. **ุชุญุณูู ุนุฏุฏ Forks:**
   ```typescript
   maxForks: 4,    // ุชูุงุฒู ุจูู ุงูุฃุฏุงุก ูุงูุฐุงูุฑุฉ
   ```

4. **ุฅููุงู ุงููุฑุงูุจุฉ:**
   ```typescript
   watch: false    // ููุงุฎุชุจุงุฑุงุช ุงูุณุฑูุนุฉ
   ```

5. **ุงุณุชุฎุฏุงู Reporters ููุงุณุจุฉ:**
   ```typescript
   reporters: ['basic', 'json']  // ุฃุณุฑุน
   ```

## ๐ ุงูุชุทููุฑ ุงููุณุชูุจูู

### **ุงูููุฒุงุช ุงููุฎุทุท ููุง:**
- **ุงุฎุชุจุงุฑุงุช ูุชูุงุฒูุฉ ูุชูุฏูุฉ** - ุชูุณูู ุฐูู ููุงุฎุชุจุงุฑุงุช
- **ุชุญููู ุงูุฃุฏุงุก ุงูุชููุงุฆู** - ุงูุชุดุงู ุงูุงุฎุชุจุงุฑุงุช ุงูุจุทูุฆุฉ
- **ุฅุนุฏุงุฏุงุช ุฏููุงููููุฉ** - ุชุนุฏูู ุชููุงุฆู ุญุณุจ ุงูุฃุฏุงุก
- **ุชูุงูู ูุน CI/CD** - ุฅุนุฏุงุฏุงุช ุชููุงุฆูุฉ ุญุณุจ ุงูุจูุฆุฉ

### **ุงูุชูุงููุงุช:**
- **GitHub Actions** - ุฅุนุฏุงุฏุงุช ุชููุงุฆูุฉ
- **Docker** - ุจูุฆุงุช ุงุฎุชุจุงุฑ ูุนุฒููุฉ
- **Cloud Testing** - ุงุฎุชุจุงุฑุงุช ููุฒุนุฉ
- **Performance Monitoring** - ูุฑุงูุจุฉ ุงูุฃุฏุงุก

## ๐ ุงูุฏุนู

### **ูุฑูู ุงูุงุฎุชุจุงุฑุงุช:**
- **Lead:** @kaleem-team
- **Support:** GitHub Issues
- **Documentation:** ูุฐุง ุงูููู

### **ุงูููุงุฑุฏ:**
- [Vitest Docs](https://vitest.dev/)
- [Vitest Config](https://vitest.dev/config/)
- [Testing Library](https://testing-library.com/)

---

*ุชู ุฅูุดุงุก ูุฐุง ุงูููู ุจูุงุณุทุฉ ูุธุงู ุงูุงุฎุชุจุงุฑุงุช ุงููุญุณู* โก

**ุขุฎุฑ ุชุญุฏูุซ:** {{ new Date().toLocaleDateString('ar-SA') }}
