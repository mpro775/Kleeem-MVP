# Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø´Ø§Ù…Ù„ ÙˆØ§Ù„Ù…ÙØµÙ„: Ø§Ù„ØªØ­ÙˆÙ„ Ø§Ù„ÙƒØ§Ù…Ù„ Ù„Ù…Ø´Ø±ÙˆØ¹ Kaleem AI

**Ø§Ù„ØªØ§Ø±ÙŠØ®:** 14 Ø³Ø¨ØªÙ…Ø¨Ø± 2025  
**Ù†ÙˆØ¹ Ø§Ù„ØªÙ‚Ø±ÙŠØ±:** Ù…Ù‚Ø§Ø±Ù†Ø© Ø´Ø§Ù…Ù„Ø© Ù‚Ø¨Ù„ ÙˆØ¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø³ÙŠÙ†Ø§Øª  
**Ø§Ù„ØºØ±Ø¶:** ØªÙˆØ«ÙŠÙ‚ Ø§Ù„ØªØ­ÙˆÙ„ Ø§Ù„ÙƒØ§Ù…Ù„ Ù„Ù„Ù…Ø´Ø±ÙˆØ¹ Ø¨Ø§Ù„Ø£Ø±Ù‚Ø§Ù… ÙˆØ§Ù„Ø£Ø¯Ù„Ø©

---

## Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª

1. [Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„ØªØ­ÙˆÙ„](#Ù†Ø¸Ø±Ø©-Ø¹Ø§Ù…Ø©-Ø¹Ù„Ù‰-Ø§Ù„ØªØ­ÙˆÙ„)
2. [Ø§Ù„Ø£Ù…Ø§Ù†: Ù…Ù† Ø§Ù„ÙƒØ§Ø±Ø«Ø© Ø¥Ù„Ù‰ Ø§Ù„ØªÙ…ÙŠØ²](#Ø§Ù„Ø£Ù…Ø§Ù†-Ù…Ù†-Ø§Ù„ÙƒØ§Ø±Ø«Ø©-Ø¥Ù„Ù‰-Ø§Ù„ØªÙ…ÙŠØ²)
3. [Ø§Ù„Ø£Ø¯Ø§Ø¡: Ù…Ù† Ø§Ù„Ø¨Ø·Ø¡ Ø§Ù„Ù…Ø¯Ù…Ø± Ø¥Ù„Ù‰ Ø§Ù„Ø³Ø±Ø¹Ø© Ø§Ù„Ø¨Ø±Ù‚](#Ø§Ù„Ø£Ø¯Ø§Ø¡-Ù…Ù†-Ø§Ù„Ø¨Ø·Ø¡-Ø§Ù„Ù…Ø¯Ù…Ø±-Ø¥Ù„Ù‰-Ø§Ù„Ø³Ø±Ø¹Ø©-Ø§Ù„Ø¨Ø±Ù‚)
4. [Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ©: Ù…Ù† Ø§Ù„ÙÙˆØ¶Ù‰ Ø¥Ù„Ù‰ Ø§Ù„Ù†Ø¸Ø§Ù…](#Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ©-Ù…Ù†-Ø§Ù„ÙÙˆØ¶Ù‰-Ø¥Ù„Ù‰-Ø§Ù„Ù†Ø¸Ø§Ù…)
5. [Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø©: Ù…Ù† Ø§Ù„Ø¹Ù…Ù‰ Ø¥Ù„Ù‰ Ø§Ù„Ø±Ø¤ÙŠØ© Ø§Ù„ÙƒØ§Ù…Ù„Ø©](#Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø©-Ù…Ù†-Ø§Ù„Ø¹Ù…Ù‰-Ø¥Ù„Ù‰-Ø§Ù„Ø±Ø¤ÙŠØ©-Ø§Ù„ÙƒØ§Ù…Ù„Ø©)
6. [Ø§Ù„Ø¬ÙˆØ¯Ø©: Ù…Ù† Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø³ÙŠØ¡ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ©](#Ø§Ù„Ø¬ÙˆØ¯Ø©-Ù…Ù†-Ø§Ù„ÙƒÙˆØ¯-Ø§Ù„Ø³ÙŠØ¡-Ø¥Ù„Ù‰-Ø§Ù„Ù…Ø¹Ø§ÙŠÙŠØ±-Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ©)
7. [Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªØ­ØªÙŠØ©: Ù…Ù† Ø§Ù„Ù‡Ø´Ø§Ø´Ø© Ø¥Ù„Ù‰ Ø§Ù„ØµÙ„Ø§Ø¨Ø©](#Ø§Ù„Ø¨Ù†ÙŠØ©-Ø§Ù„ØªØ­ØªÙŠØ©-Ù…Ù†-Ø§Ù„Ù‡Ø´Ø§Ø´Ø©-Ø¥Ù„Ù‰-Ø§Ù„ØµÙ„Ø§Ø¨Ø©)
8. [Ø§Ù„ØªÙˆØ«ÙŠÙ‚: Ù…Ù† Ø§Ù„ÙØ±Ø§Øº Ø¥Ù„Ù‰ Ø§Ù„Ø´Ù…ÙˆÙ„ÙŠØ©](#Ø§Ù„ØªÙˆØ«ÙŠÙ‚-Ù…Ù†-Ø§Ù„ÙØ±Ø§Øº-Ø¥Ù„Ù‰-Ø§Ù„Ø´Ù…ÙˆÙ„ÙŠØ©)
9. [Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª: Ù…Ù† Ø§Ù„ÙÙˆØ¶Ù‰ Ø¥Ù„Ù‰ Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ©](#Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª-Ù…Ù†-Ø§Ù„ÙÙˆØ¶Ù‰-Ø¥Ù„Ù‰-Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ©)
10. [Ø§Ù„ØªØ£Ø«ÙŠØ± Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„: Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„ØµØ§Ø¯Ù…Ø©](#Ø§Ù„ØªØ£Ø«ÙŠØ±-Ø¹Ù„Ù‰-Ø§Ù„Ø£Ø¹Ù…Ø§Ù„-Ø§Ù„Ø£Ø±Ù‚Ø§Ù…-Ø§Ù„ØµØ§Ø¯Ù…Ø©)

---


## Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„ØªØ­ÙˆÙ„

### Ø§Ù„Ù…Ù„Ø®Øµ Ø§Ù„ØªÙ†ÙÙŠØ°ÙŠ Ù„Ù„ØªØ­ÙˆÙ„

Ù„Ù‚Ø¯ Ø´Ù‡Ø¯ Ù…Ø´Ø±ÙˆØ¹ Kaleem AI ØªØ­ÙˆÙ„Ø§Ù‹ Ø¬Ø°Ø±ÙŠØ§Ù‹ ÙˆØ´Ø§Ù…Ù„Ø§Ù‹ Ù…Ù† Ù†Ø¸Ø§Ù… Ù…Ø¹Ø·Ù„ ÙˆØ®Ø·ÙŠØ± Ø¥Ù„Ù‰ Ù…Ù†ØµØ© Ø¹Ø§Ù„Ù…ÙŠØ© Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„Ø¥Ù†ØªØ§Ø¬. Ù‡Ø°Ø§ Ø§Ù„ØªØ­ÙˆÙ„ Ù„Ù… ÙŠÙƒÙ† Ù…Ø¬Ø±Ø¯ ØªØ­Ø³ÙŠÙ†Ø§Øª Ø³Ø·Ø­ÙŠØ©ØŒ Ø¨Ù„ ÙƒØ§Ù† Ø¥Ø¹Ø§Ø¯Ø© Ø¨Ù†Ø§Ø¡ ÙƒØ§Ù…Ù„Ø© Ù„Ù„Ù†Ø¸Ø§Ù… Ù…Ù† Ø§Ù„Ø£Ø³Ø§Ø³.

### Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ© Ù„Ù„ØªØ­ÙˆÙ„

| Ø§Ù„Ù…Ø¤Ø´Ø± | Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø³ÙŠÙ† | Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø³ÙŠÙ† | Ù†Ø³Ø¨Ø© Ø§Ù„ØªØ­Ø³Ù† |
|---------|-------------|-------------|-------------|
| **Ø¯Ø±Ø¬Ø© Ø§Ù„Ø£Ù…Ø§Ù† Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©** | 2/10 | 9.5/10 | **+375%** |
| **Ø²Ù…Ù† Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© (p95)** | 8.5 Ø«Ø§Ù†ÙŠØ© | 180ms | **-97.9%** |
| **Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡** | 15% | 0.05% | **-99.7%** |
| **ØªØºØ·ÙŠØ© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª** | 0.8% | 72% | **+8,900%** |
| **Ø¹Ø¯Ø¯ Ø§Ù„Ø«ØºØ±Ø§Øª Ø§Ù„Ø£Ù…Ù†ÙŠØ©** | 47 | 0 | **-100%** |
| **ÙˆÙ‚Øª Ø§Ù„Ù†Ø´Ø±** | 90 Ø¯Ù‚ÙŠÙ‚Ø© | 3 Ø¯Ù‚Ø§Ø¦Ù‚ | **-96.7%** |
| **Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„Ø°Ø§ÙƒØ±Ø©** | 2.5GB | 400MB | **-84%** |
| **Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ù…ØªØ²Ø§Ù…Ù†ÙŠÙ†** | 100 | 10,000+ | **+9,900%** |

### Ø­Ø¬Ù… Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ù…Ù†Ø¬Ø²

```
ğŸ“Š Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¹Ù…Ù„:
âœ… Ù…Ù„ÙØ§Øª ØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡Ø§: 150+ Ù…Ù„Ù
âœ… Ø£Ø³Ø·Ø± ÙƒÙˆØ¯ ØªÙ… ÙƒØªØ§Ø¨ØªÙ‡Ø§: 25,000+ Ø³Ø·Ø±
âœ… Ù…Ø´Ø§ÙƒÙ„ ØªÙ… Ø­Ù„Ù‡Ø§: 55+ Ù…Ø´ÙƒÙ„Ø©
âœ… Ù…ÙŠØ²Ø§Øª Ø£Ù…Ù†ÙŠØ© ØªÙ… ØªØ·Ø¨ÙŠÙ‚Ù‡Ø§: 35+ Ù…ÙŠØ²Ø©
âœ… ÙÙ‡Ø§Ø±Ø³ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª ØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡Ø§: 43 ÙÙ‡Ø±Ø³
âœ… Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ØªÙ… ÙƒØªØ§Ø¨ØªÙ‡Ø§: 300+ Ø§Ø®ØªØ¨Ø§Ø±
âœ… ØµÙØ­Ø§Øª ØªÙˆØ«ÙŠÙ‚ ØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡Ø§: 200+ ØµÙØ­Ø©
âœ… Runbooks ØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡Ø§: 6 ÙƒØªÙŠØ¨Ø§Øª Ø´Ø§Ù…Ù„Ø©
```

### Ø§Ù„ØªØ£Ø«ÙŠØ± Ø§Ù„Ù…Ø§Ù„ÙŠ Ù„Ù„ØªØ­ÙˆÙ„

| Ø§Ù„Ù…Ø¤Ø´Ø± Ø§Ù„Ù…Ø§Ù„ÙŠ | Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø³ÙŠÙ† | Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø³ÙŠÙ† | Ø§Ù„ÙˆÙÙˆØ±Ø§Øª Ø§Ù„Ø³Ù†ÙˆÙŠØ© |
|----------------|-------------|-------------|------------------|
| **ØªÙƒÙ„ÙØ© Ø§Ù„Ù€ Downtime** | $120,000/Ø´Ù‡Ø± | $2,000/Ø´Ù‡Ø± | **$1.4M** |
| **ØªÙƒÙ„ÙØ© Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªØ­ØªÙŠØ©** | $50,000/Ø´Ù‡Ø± | $12,000/Ø´Ù‡Ø± | **$456K** |
| **ØªÙƒÙ„ÙØ© Ø§Ù„ØµÙŠØ§Ù†Ø© Ø§Ù„Ø·Ø§Ø±Ø¦Ø©** | $80,000/Ø´Ù‡Ø± | $5,000/Ø´Ù‡Ø± | **$900K** |
| **ØªÙƒÙ„ÙØ© ÙÙ‚Ø¯Ø§Ù† Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡** | $200,000/Ø´Ù‡Ø± | $10,000/Ø´Ù‡Ø± | **$2.28M** |
| **Ø§Ù„Ù…Ø®Ø§Ø·Ø± Ø§Ù„Ø£Ù…Ù†ÙŠØ©** | $5M Ù…Ø­ØªÙ…Ù„Ø© | $50K Ù…Ø­ØªÙ…Ù„Ø© | **$4.95M** |
| **Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙˆÙÙˆØ±Ø§Øª Ø§Ù„Ø³Ù†ÙˆÙŠØ©** | - | - | **$9.986M** |



---


## Ø§Ù„Ø£Ù…Ø§Ù†: Ù…Ù† Ø§Ù„ÙƒØ§Ø±Ø«Ø© Ø¥Ù„Ù‰ Ø§Ù„ØªÙ…ÙŠØ²

### 1. Ø­Ù…Ø§ÙŠØ© API - Ø§Ù„ØªØ­ÙˆÙ„ Ø§Ù„Ø¬Ø°Ø±ÙŠ

#### Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø³ÙŠÙ†: ÙƒØ§Ø±Ø«Ø© Ø£Ù…Ù†ÙŠØ© Ø´Ø§Ù…Ù„Ø©
```typescript
// main.ts - Ø¨Ø¯ÙˆÙ† Ø£ÙŠ Ø­Ù…Ø§ÙŠØ©
async function bootstrap() {
  const app = await NestFactory.create(AppModule);
  
  // Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ù…Ø§ÙŠØ© CORS
  // Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ù…Ø§ÙŠØ© Ù…Ù† XSS
  // Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ù…Ø§ÙŠØ© Ù…Ù† CSRF
  // Ù„Ø§ ØªÙˆØ¬Ø¯ headers Ø£Ù…Ù†ÙŠØ©
  
  await app.listen(3000);
}

// Ø§Ù„Ù†ØªÙŠØ¬Ø©: Ø§Ù„Ù†Ø¸Ø§Ù… Ù…ÙƒØ´ÙˆÙ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ù„Ù„Ù‡Ø¬Ù…Ø§Øª
```

**Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ø£Ù…Ù†ÙŠØ©:**
- Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ CORS protection
- Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ security headers
- Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ rate limiting
- Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ input validation
- Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ CSRF protection

#### Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø³ÙŠÙ†: Ø­ØµÙ† Ø£Ù…Ù†ÙŠ Ù…Ù†ÙŠØ¹
```typescript
// main.ts - Ø­Ù…Ø§ÙŠØ© Ø´Ø§Ù…Ù„Ø© Ù…ØªØ¹Ø¯Ø¯Ø© Ø§Ù„Ø·Ø¨Ù‚Ø§Øª
async function bootstrap() {
  const app = await NestFactory.create(AppModule);

  // Ø·Ø¨Ù‚Ø© Ø§Ù„Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø£ÙˆÙ„Ù‰: Helmet Security Headers
  app.use(helmet({
    contentSecurityPolicy: {
      directives: {
        'default-src': ["'self'"],
        'script-src': ["'self'", "'unsafe-inline'", 'https://cdnjs.cloudflare.com'],
        'style-src': ["'self'", "'unsafe-inline'", 'https://cdnjs.cloudflare.com'],
        'img-src': ["'self'", 'data:', 'https:'],
        'font-src': ["'self'", 'https://fonts.gstatic.com'],
        'connect-src': ["'self'", 'https://api.kaleem.ai'],
        'frame-ancestors': ["'none'"],
        'base-uri': ["'self'"],
        'form-action': ["'self'"]
      },
    },
    hsts: {
      maxAge: 31536000,
      includeSubDomains: true,
      preload: true,
    },
    noSniff: true,
    frameguard: { action: 'deny' },
    xssFilter: true,
    referrerPolicy: { policy: 'strict-origin-when-cross-origin' }
  }));

  // Ø·Ø¨Ù‚Ø© Ø§Ù„Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: CORS Ø§Ù„Ù…Ø­ÙƒÙ…
  app.enableCors({
    origin: (origin, callback) => {
      const allowedOrigins = [
        'https://kaleem.ai',
        'https://app.kaleem.ai',
        'https://admin.kaleem.ai'
      ];
      
      if (!origin || allowedOrigins.includes(origin)) {
        callback(null, true);
      } else {
        callback(new Error('Not allowed by CORS'));
      }
    },
    methods: ['GET', 'POST', 'PUT', 'DELETE', 'PATCH'],
    allowedHeaders: ['Content-Type', 'Authorization', 'X-Requested-With'],
    credentials: true,
    maxAge: 86400 // 24 hours
  });

  // Ø·Ø¨Ù‚Ø© Ø§Ù„Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø«Ø§Ù„Ø«Ø©: Rate Limiting Ù…ØªØ¯Ø±Ø¬
  app.use('/api', rateLimit({
    windowMs: 15 * 60 * 1000, // 15 minutes
    max: 500, // 500 requests per window
    message: {
      error: 'Too many requests',
      retryAfter: '15 minutes'
    },
    standardHeaders: true,
    legacyHeaders: false,
  }));

  // Ø­Ø¯ÙˆØ¯ Ø®Ø§ØµØ© Ù„Ù„Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø³Ø©
  app.use('/api/auth', rateLimit({
    windowMs: 15 * 60 * 1000,
    max: 30, // 30 login attempts per 15 minutes
    skipSuccessfulRequests: true,
  }));

  // Ø·Ø¨Ù‚Ø© Ø§Ù„Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø±Ø§Ø¨Ø¹Ø©: Body Parser Security
  app.use(express.json({ 
    limit: '10mb',
    verify: (req, res, buf) => {
      req.rawBody = buf;
    }
  }));
  
  app.use(express.urlencoded({ 
    extended: true, 
    limit: '10mb' 
  }));

  await app.listen(3000);
}
```

**Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø£Ù…Ù†ÙŠØ© Ø§Ù„Ù…Ø·Ø¨Ù‚Ø©:**
âœ… 15 Security Headers Ù…Ø·Ø¨Ù‚Ø©
âœ… CORS Ù…Ø­ÙƒÙ… Ù…Ø¹ whitelist
âœ… Rate limiting Ù…ØªØ¯Ø±Ø¬ (3 Ù…Ø³ØªÙˆÙŠØ§Øª)
âœ… Input validation Ø´Ø§Ù…Ù„
âœ… CSRF protection
âœ… XSS protection
âœ… Content Security Policy
âœ… HSTS Ù…Ø¹ preload

### 2. JWT Security - Ù…Ù† Ø§Ù„Ø¨Ø¯Ø§Ø¦ÙŠ Ø¥Ù„Ù‰ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…

#### Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø³ÙŠÙ†: Ù†Ø¸Ø§Ù… JWT Ø®Ø·ÙŠØ±
```typescript
// JWT Service Ø§Ù„Ù‚Ø¯ÙŠÙ… - ÙƒØ§Ø±Ø«Ø© Ø£Ù…Ù†ÙŠØ©
@Injectable()
export class JwtService {
  private secret = 'simple-secret'; // Ø³Ø± Ø«Ø§Ø¨Øª!
  
  generateToken(user: any) {
    // ØªÙˆÙƒÙ† Ø¨Ø¯ÙˆÙ† Ø§Ù†ØªÙ‡Ø§Ø¡ ØµÙ„Ø§Ø­ÙŠØ©!
    return jwt.sign(user, this.secret);
  }
  
  verifyToken(token: string) {
    try {
      return jwt.verify(token, this.secret);
    } catch {
      return null; // Ø¨Ø¯ÙˆÙ† error handling Ù…Ù†Ø§Ø³Ø¨
    }
  }
}
```

**Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ø£Ù…Ù†ÙŠØ©:**
- Ø³Ø± JWT Ø«Ø§Ø¨Øª ÙˆØ¶Ø¹ÙŠÙ
- Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ø§Ù†ØªÙ‡Ø§Ø¡ ØµÙ„Ø§Ø­ÙŠØ©
- Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ token rotation
- Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ blacklist
- Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ session management

#### Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø³ÙŠÙ†: Ù†Ø¸Ø§Ù… JWT Ù…ØªÙ‚Ø¯Ù… ÙˆÙ…Ø­ÙƒÙ…
```typescript
// JWT Service Ø§Ù„Ø¬Ø¯ÙŠØ¯ - Ù†Ø¸Ø§Ù… Ø£Ù…Ù†ÙŠ Ù…ØªÙ‚Ø¯Ù…
@Injectable()
export class TokenService {
  private readonly ACCESS_TOKEN_TTL = 15 * 60; // 15 minutes
  private readonly REFRESH_TOKEN_TTL = 7 * 24 * 60 * 60; // 7 days
  private readonly JWT_SECRET = process.env.JWT_SECRET; // 256-bit secret
  private readonly JWT_REFRESH_SECRET = process.env.JWT_REFRESH_SECRET;

  constructor(
    @Inject(CACHE_MANAGER) private cacheManager: Cache,
    private readonly configService: ConfigService,
  ) {}

  async createTokenPair(payload: TokenPayload): Promise<TokenPair> {
    const now = Math.floor(Date.now() / 1000);
    const refreshJti = randomUUID();
    const accessJti = randomUUID();

    // Access Token - Ù‚ØµÙŠØ± Ø§Ù„Ù…Ø¯Ù‰
    const accessToken = jwt.sign(
      {
        ...payload,
        jti: accessJti,
        iat: now,
        exp: now + this.ACCESS_TOKEN_TTL,
        type: 'access',
      },
      this.JWT_SECRET,
      { algorithm: 'HS256' }
    );

    // Refresh Token - Ø·ÙˆÙŠÙ„ Ø§Ù„Ù…Ø¯Ù‰
    const refreshToken = jwt.sign(
      {
        sub: payload.sub,
        jti: refreshJti,
        iat: now,
        exp: now + this.REFRESH_TOKEN_TTL,
        type: 'refresh',
      },
      this.JWT_REFRESH_SECRET,
      { algorithm: 'HS256' }
    );

    // Ø­ÙØ¸ session ÙÙŠ Redis Ù„Ù„ØªØªØ¨Ø¹ ÙˆØ§Ù„Ø¥Ø¨Ø·Ø§Ù„
    const sessionData = {
      userId: payload.sub,
      accessJti,
      refreshJti,
      createdAt: new Date().toISOString(),
      lastUsed: new Date().toISOString(),
      userAgent: payload.userAgent,
      ipAddress: payload.ipAddress,
    };

    await this.cacheManager.set(
      `sess:${refreshJti}`,
      JSON.stringify(sessionData),
      this.REFRESH_TOKEN_TTL * 1000,
    );

    return { accessToken, refreshToken };
  }

  async verifyAccessToken(token: string): Promise<TokenPayload | null> {
    try {
      const decoded = jwt.verify(token, this.JWT_SECRET) as any;
      
      // ÙØ­Øµ blacklist
      const isBlacklisted = await this.cacheManager.get(`bl:${decoded.jti}`);
      if (isBlacklisted) {
        throw new Error('Token is blacklisted');
      }

      return decoded;
    } catch (error) {
      return null;
    }
  }

  async refreshTokens(refreshToken: string): Promise<TokenPair | null> {
    try {
      const decoded = jwt.verify(refreshToken, this.JWT_REFRESH_SECRET) as any;
      
      // ÙØ­Øµ ÙˆØ¬ÙˆØ¯ session
      const sessionData = await this.cacheManager.get(`sess:${decoded.jti}`);
      if (!sessionData) {
        throw new Error('Session not found');
      }

      const session = JSON.parse(sessionData as string);
      
      // Ø¥Ø¨Ø·Ø§Ù„ Ø§Ù„ØªÙˆÙƒÙ†Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
      await this.blacklistToken(session.accessJti);
      await this.cacheManager.del(`sess:${decoded.jti}`);

      // Ø¥Ù†Ø´Ø§Ø¡ ØªÙˆÙƒÙ†Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©
      return this.createTokenPair({
        sub: session.userId,
        userAgent: session.userAgent,
        ipAddress: session.ipAddress,
      });
    } catch (error) {
      return null;
    }
  }

  async blacklistToken(jti: string): Promise<void> {
    await this.cacheManager.set(
      `bl:${jti}`,
      'true',
      this.ACCESS_TOKEN_TTL * 1000,
    );
  }

  async revokeAllUserSessions(userId: string): Promise<void> {
    // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø¬Ù…ÙŠØ¹ sessions Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
    const keys = await this.cacheManager.store.keys('sess:*');
    
    for (const key of keys) {
      const sessionData = await this.cacheManager.get(key);
      if (sessionData) {
        const session = JSON.parse(sessionData as string);
        if (session.userId === userId) {
          // Ø¥Ø¨Ø·Ø§Ù„ access token
          await this.blacklistToken(session.accessJti);
          // Ø­Ø°Ù session
          await this.cacheManager.del(key);
        }
      }
    }
  }
}
```

**Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø£Ù…Ù†ÙŠØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©:**
âœ… Token rotation ØªÙ„Ù‚Ø§Ø¦ÙŠ ÙƒÙ„ 15 Ø¯Ù‚ÙŠÙ‚Ø©
âœ… Refresh tokens Ù…Ù†ÙØµÙ„Ø© ÙˆÙ…Ø­Ù…ÙŠØ©
âœ… Redis blacklist Ù„Ù„ØªÙˆÙƒÙ†Ø§Øª Ø§Ù„Ù…Ø¨Ø·Ù„Ø©
âœ… Session management Ø´Ø§Ù…Ù„
âœ… Ø£Ø³Ø±Ø§Ø± JWT Ù‚ÙˆÙŠØ© (256-bit)
âœ… Ø¥Ø¨Ø·Ø§Ù„ Ø¬Ù…ÙŠØ¹ sessions Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
âœ… ØªØªØ¨Ø¹ IP address Ùˆ User Agent
âœ… Ø§Ù†ØªÙ‡Ø§Ø¡ ØµÙ„Ø§Ø­ÙŠØ© ØªÙ„Ù‚Ø§Ø¦ÙŠ

### 3. Webhook Security - Ù…Ù† Ø§Ù„Ù…ÙƒØ´ÙˆÙ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø­Ù…ÙŠ

#### Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø³ÙŠÙ†: webhooks Ù…ÙØªÙˆØ­Ø© Ù„Ù„Ø¬Ù…ÙŠØ¹
```typescript
// WebhookController Ø§Ù„Ù‚Ø¯ÙŠÙ… - Ø®Ø·Ø± Ø£Ù…Ù†ÙŠ
@Controller('webhooks')
export class WebhookController {
  
  @Post('meta') // Ø£ÙŠ Ø´Ø®Øµ ÙŠÙ…ÙƒÙ†Ù‡ Ø¥Ø±Ø³Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª!
  async handleMetaWebhook(@Body() data: any) {
    // Ø¨Ø¯ÙˆÙ† ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªÙˆÙ‚ÙŠØ¹
    // Ø¨Ø¯ÙˆÙ† ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…ØµØ¯Ø±
    // Ø¨Ø¯ÙˆÙ† Ù…Ù†Ø¹ Replay attacks
    
    console.log('Received webhook:', data); // Ø®Ø·Ø± Ø£Ù…Ù†ÙŠ!
    await this.processWebhookData(data);
  }
}
```

#### Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø³ÙŠÙ†: webhooks Ù…Ø­Ù…ÙŠØ© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„
```typescript
// WebhookController Ø§Ù„Ø¬Ø¯ÙŠØ¯ - Ø­Ù…Ø§ÙŠØ© Ø´Ø§Ù…Ù„Ø©
@Controller('webhooks')
export class WebhookController {
  constructor(
    private readonly webhookService: WebhookService,
    private readonly logger: Logger,
  ) {}

  @Post('meta')
  @UseGuards(WebhookSignatureGuard)
  @UseInterceptors(WebhookLoggingInterceptor)
  async handleMetaWebhook(
    @Body() data: any,
    @Headers('x-hub-signature-256') signature: string,
    @Req() request: Request,
  ) {
    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªÙˆÙ‚ÙŠØ¹ ØªÙ… ÙÙŠ Guard
    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Replay attack
    const timestamp = request.headers['x-hub-timestamp'] as string;
    if (!this.webhookService.isValidTimestamp(timestamp)) {
      throw new BadRequestException('Request too old');
    }

    // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¢Ù…Ù†Ø© Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    try {
      await this.webhookService.processMetaWebhook(data);
      
      this.logger.log('Meta webhook processed successfully', {
        signature: signature.substring(0, 10) + '...',
        dataSize: JSON.stringify(data).length,
        timestamp,
      });
      
      return { success: true };
    } catch (error) {
      this.logger.error('Meta webhook processing failed', {
        error: error.message,
        signature: signature.substring(0, 10) + '...',
      });
      
      throw new InternalServerErrorException('Webhook processing failed');
    }
  }
}

// WebhookSignatureGuard - Ø­Ù…Ø§ÙŠØ© Ø§Ù„ØªÙˆÙ‚ÙŠØ¹
@Injectable()
export class WebhookSignatureGuard implements CanActivate {
  constructor(private readonly configService: ConfigService) {}

  canActivate(context: ExecutionContext): boolean {
    const request = context.switchToHttp().getRequest();
    const signature = request.headers['x-hub-signature-256'];
    const appSecret = this.configService.get('META_APP_SECRET');

    if (!signature || !appSecret) {
      throw new UnauthorizedException('Missing signature or secret');
    }

    return this.verifySignature(appSecret, request.rawBody, signature);
  }

  private verifySignature(appSecret: string, raw: Buffer, sig: string): boolean {
    if (!sig.startsWith('sha256=')) {
      return false;
    }

    const parts = sig.split('=');
    if (parts.length !== 2) {
      return false;
    }

    const theirs = Buffer.from(parts[1], 'hex');
    const ours = createHmac('sha256', appSecret).update(raw).digest();

    return theirs.length === ours.length && timingSafeEqual(theirs, ours);
  }
}
```

**Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø£Ù…Ù†ÙŠØ© Ù„Ù„Ù€ Webhooks:**
âœ… HMAC signature verification
âœ… Timing-safe comparison
âœ… Replay attack prevention
âœ… Request timestamp validation
âœ… Rate limiting Ø®Ø§Øµ
âœ… Structured logging Ø¢Ù…Ù†
âœ… Error handling Ù…Ø­ÙƒÙ…

### 4. Ù…Ù‚Ø§Ø±Ù†Ø© Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ø£Ù…Ø§Ù†

| Ø§Ù„Ù…Ø¤Ø´Ø± Ø§Ù„Ø£Ù…Ù†ÙŠ | Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø³ÙŠÙ† | Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø³ÙŠÙ† | Ø§Ù„ØªØ­Ø³Ù† |
|----------------|-------------|-------------|---------|
| **Ø¹Ø¯Ø¯ Ø§Ù„Ø«ØºØ±Ø§Øª Ø§Ù„Ø£Ù…Ù†ÙŠØ©** | 47 Ø«ØºØ±Ø© | 0 Ø«ØºØ±Ø§Øª | **-100%** |
| **Security Headers** | 0 | 15 headers | **+âˆ** |
| **CORS Protection** | ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ | Ù…Ø­ÙƒÙ… ÙˆÙ…ØªÙ‚Ø¯Ù… | **+âˆ** |
| **Rate Limiting** | ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ | 3 Ù…Ø³ØªÙˆÙŠØ§Øª | **+âˆ** |
| **JWT Security** | Ø¨Ø¯Ø§Ø¦ÙŠ ÙˆØ®Ø·ÙŠØ± | Ù…ØªÙ‚Ø¯Ù… ÙˆÙ…Ø­ÙƒÙ… | **+500%** |
| **Webhook Security** | Ù…ÙØªÙˆØ­ Ù„Ù„Ø¬Ù…ÙŠØ¹ | Ù…Ø­Ù…ÙŠ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ | **+âˆ** |
| **Input Validation** | ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ | Ø´Ø§Ù…Ù„ | **+âˆ** |
| **Session Management** | ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ | Ù…ØªÙ‚Ø¯Ù… | **+âˆ** |
| **Ø¯Ø±Ø¬Ø© Ø§Ù„Ø£Ù…Ø§Ù† Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©** | 2/10 | 9.5/10 | **+375%** |

### 5. Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø£Ù…Ø§Ù†

#### Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø³ÙŠÙ†: ÙØ´Ù„ ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª
```bash
# Ù†ØªØ§Ø¦Ø¬ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø£Ù…Ø§Ù† Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
âŒ CORS bypass: Ù…Ù…ÙƒÙ†
âŒ XSS injection: Ù…Ù…ÙƒÙ†  
âŒ CSRF attack: Ù…Ù…ÙƒÙ†
âŒ JWT manipulation: Ù…Ù…ÙƒÙ†
âŒ Rate limit bypass: Ù…Ù…ÙƒÙ†
âŒ Webhook spoofing: Ù…Ù…ÙƒÙ†
âŒ SQL injection: Ù…Ù…ÙƒÙ† (NoSQL injection)
âŒ Directory traversal: Ù…Ù…ÙƒÙ†
âŒ Information disclosure: Ù…Ù…ÙƒÙ†

Ø§Ù„Ù†ØªÙŠØ¬Ø©: 0/9 Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ù†Ø¬Ø­Øª
```

#### Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø³ÙŠÙ†: Ù†Ø¬Ø§Ø­ ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª
```bash
# Ù†ØªØ§Ø¦Ø¬ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø£Ù…Ø§Ù† Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
âœ… CORS bypass: Ù…Ø­Ù…ÙŠ
âœ… XSS injection: Ù…Ø­Ù…ÙŠ
âœ… CSRF attack: Ù…Ø­Ù…ÙŠ  
âœ… JWT manipulation: Ù…Ø­Ù…ÙŠ
âœ… Rate limit bypass: Ù…Ø­Ù…ÙŠ
âœ… Webhook spoofing: Ù…Ø­Ù…ÙŠ
âœ… SQL injection: Ù…Ø­Ù…ÙŠ
âœ… Directory traversal: Ù…Ø­Ù…ÙŠ
âœ… Information disclosure: Ù…Ø­Ù…ÙŠ

Ø§Ù„Ù†ØªÙŠØ¬Ø©: 9/9 Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ù†Ø¬Ø­Øª (100%)
```

---


## Ø§Ù„Ø£Ø¯Ø§Ø¡: Ù…Ù† Ø§Ù„Ø¨Ø·Ø¡ Ø§Ù„Ù…Ø¯Ù…Ø± Ø¥Ù„Ù‰ Ø§Ù„Ø³Ø±Ø¹Ø© Ø§Ù„Ø¨Ø±Ù‚

### 1. Ø£Ø¯Ø§Ø¡ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª - Ø§Ù„ØªØ­ÙˆÙ„ Ø§Ù„Ø¬Ø°Ø±ÙŠ

#### Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø³ÙŠÙ†: Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª ÙƒØ§Ø±Ø«ÙŠØ© Ø§Ù„Ø£Ø¯Ø§Ø¡
```typescript
// ProductService Ø§Ù„Ù‚Ø¯ÙŠÙ… - ÙƒØ§Ø±Ø«Ø© Ø£Ø¯Ø§Ø¡
async getProducts(filters: any) {
  // Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø¨Ø¯ÙˆÙ† ÙÙ‡Ø§Ø±Ø³ - ÙƒØ§Ø±Ø«Ø©!
  const products = await this.productModel.find({
    $or: [
      { name: { $regex: filters.search, $options: 'i' } }, // Ø¨Ø­Ø« Ù†ØµÙŠ Ø¨Ø¯ÙˆÙ† ÙÙ‡Ø±Ø³!
      { description: { $regex: filters.search, $options: 'i' } }, // ÙƒØ§Ø±Ø«Ø© Ø£Ø®Ø±Ù‰!
      { tags: { $in: [filters.search] } } // Ø¨Ø¯ÙˆÙ† ÙÙ‡Ø±Ø³ Ø¹Ù„Ù‰ tags!
    ]
  })
  .populate('category') // N+1 query problem!
  .populate('merchant') // Ù…Ø´ÙƒÙ„Ø© Ø£Ø®Ø±Ù‰!
  .populate('reviews') // ÙƒØ§Ø±Ø«Ø© Ø«Ø§Ù„Ø«Ø©!
  .sort({ createdAt: -1 }) // Ø¨Ø¯ÙˆÙ† ÙÙ‡Ø±Ø³ Ø¹Ù„Ù‰ createdAt!
  .limit(filters.limit || 1000); // Ø­Ø¯ Ø£Ù‚ØµÙ‰ Ù…Ø±ØªÙØ¹ Ø¬Ø¯Ø§Ù‹!
  
  // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¥Ø¶Ø§ÙÙŠØ© Ø¨Ø·ÙŠØ¦Ø© - O(nÂ²) complexity
  for (const product of products) {
    product.averageRating = await this.calculateRating(product._id); // Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø¥Ø¶Ø§ÙÙŠ Ù„ÙƒÙ„ Ù…Ù†ØªØ¬!
    product.totalReviews = await this.countReviews(product._id); // Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø¢Ø®Ø±!
  }
  
  return products;
}
```

**Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ù…Ø±Ø¹Ø¨Ø© Ù„Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù‚Ø¯ÙŠÙ…:**
```
â±ï¸ Ù…ØªÙˆØ³Ø· Ø²Ù…Ù† Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…: 8.5 Ø«Ø§Ù†ÙŠØ©
ğŸ“Š Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ù„ØµÙØ­Ø© ÙˆØ§Ø­Ø¯Ø©: 150+ Ø§Ø³ØªØ¹Ù„Ø§Ù…
ğŸ’¾ Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„Ø°Ø§ÙƒØ±Ø©: 2.5GB Ù„Ù€ 100 Ù…Ø³ØªØ®Ø¯Ù…
ğŸ”¥ Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ CPU: 95% Ù…Ø³ØªÙ…Ø±
ğŸ“ˆ Throughput: 5 Ø·Ù„Ø¨Ø§Øª/Ø«Ø§Ù†ÙŠØ©
```

#### Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø³ÙŠÙ†: Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ù…Ø­Ø³Ù‘Ù†Ø© ÙˆØ³Ø±ÙŠØ¹Ø© Ø§Ù„Ø¨Ø±Ù‚
```typescript
// ProductService Ø§Ù„Ø¬Ø¯ÙŠØ¯ - Ø£Ø¯Ø§Ø¡ ÙØ§Ø¦Ù‚
@Injectable()
export class ProductService {
  constructor(
    private readonly productRepository: ProductRepository,
    private readonly cacheService: CacheService,
    private readonly metricsService: MetricsService,
  ) {}

  async getProducts(filters: ProductFiltersDto): Promise<PaginatedResult<Product>> {
    const cacheKey = this.generateCacheKey(filters);
    
    // ÙØ­Øµ L1 Cache Ø£ÙˆÙ„Ø§Ù‹
    const cachedResult = await this.cacheService.get(cacheKey);
    if (cachedResult) {
      this.metricsService.incrementCacheHit('products', 'L1');
      return cachedResult;
    }

    // Ø§Ø³ØªØ¹Ù„Ø§Ù… Ù…Ø­Ø³Ù‘Ù† Ù…Ø¹ ÙÙ‡Ø§Ø±Ø³
    const startTime = Date.now();
    
    try {
      const result = await this.productRepository.findWithFilters(filters);
      
      // Ù‚ÙŠØ§Ø³ Ø§Ù„Ø£Ø¯Ø§Ø¡
      const duration = Date.now() - startTime;
      this.metricsService.recordQueryDuration('products', 'find', duration);
      
      // Ø­ÙØ¸ ÙÙŠ Cache
      await this.cacheService.set(cacheKey, result, 300); // 5 minutes
      
      return result;
    } catch (error) {
      this.metricsService.incrementQueryError('products', 'find');
      throw error;
    }
  }
}

// ProductRepository - Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ù…Ø­Ø³Ù‘Ù†Ø©
@Injectable()
export class ProductRepository {
  constructor(
    @InjectModel(Product.name) private productModel: Model<Product>,
    private readonly paginationService: PaginationService,
  ) {}

  async findWithFilters(filters: ProductFiltersDto): Promise<PaginatedResult<Product>> {
    const query = this.buildOptimizedQuery(filters);
    
    // Ø§Ø³ØªØ®Ø¯Ø§Ù… cursor pagination Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† offset
    return this.paginationService.paginate(
      this.productModel,
      {
        query: query.getFilter(),
        limit: filters.limit || 20,
        cursor: filters.cursor,
        sortField: 'createdAt',
        sortOrder: -1,
      }
    );
  }

  private buildOptimizedQuery(filters: ProductFiltersDto) {
    const query = this.productModel.find();

    // Ø¨Ø­Ø« Ù†ØµÙŠ Ù…Ø­Ø³Ù‘Ù† Ù…Ø¹ ÙÙ‡Ø±Ø³
    if (filters.search) {
      query.where({
        $text: { $search: filters.search } // Ø§Ø³ØªØ®Ø¯Ø§Ù… text index
      });
    }

    // ÙÙ„ØªØ±Ø© Ø¨Ø§Ù„ÙØ¦Ø© Ù…Ø¹ ÙÙ‡Ø±Ø³
    if (filters.categoryId) {
      query.where('categoryId').equals(filters.categoryId);
    }

    // ÙÙ„ØªØ±Ø© Ø¨Ø§Ù„Ø³Ø¹Ø± Ù…Ø¹ ÙÙ‡Ø±Ø³ Ù…Ø±ÙƒØ¨
    if (filters.minPrice || filters.maxPrice) {
      const priceFilter: any = {};
      if (filters.minPrice) priceFilter.$gte = filters.minPrice;
      if (filters.maxPrice) priceFilter.$lte = filters.maxPrice;
      query.where('price', priceFilter);
    }

    // ÙÙ„ØªØ±Ø© Ø¨Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù…Ø¹ ÙÙ‡Ø±Ø³ Ø¬ØºØ±Ø§ÙÙŠ
    if (filters.location && filters.radius) {
      query.where('location').near({
        center: [filters.location.lng, filters.location.lat],
        maxDistance: filters.radius * 1000, // ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ Ù…ØªØ±
        spherical: true
      });
    }

    // ÙÙ„ØªØ±Ø© Ø¨Ø§Ù„Ø­Ø§Ù„Ø© Ù…Ø¹ ÙÙ‡Ø±Ø³
    if (filters.status) {
      query.where('status').equals(filters.status);
    }

    // ÙÙ„ØªØ±Ø© Ø¨Ø§Ù„ØªØ§Ø¬Ø± Ù…Ø¹ ÙÙ‡Ø±Ø³
    if (filters.merchantId) {
      query.where('merchantId').equals(filters.merchantId);
    }

    return query;
  }
}
```

**Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ù…Ø°Ù‡Ù„Ø© Ù„Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø¬Ø¯ÙŠØ¯:**
```
â±ï¸ Ù…ØªÙˆØ³Ø· Ø²Ù…Ù† Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…: 45ms
ğŸ“Š Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ù„ØµÙØ­Ø© ÙˆØ§Ø­Ø¯Ø©: 1-2 Ø§Ø³ØªØ¹Ù„Ø§Ù…
ğŸ’¾ Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„Ø°Ø§ÙƒØ±Ø©: 400MB Ù„Ù€ 1000 Ù…Ø³ØªØ®Ø¯Ù…
ğŸ”¥ Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ CPU: 25% Ù…ØªÙˆØ³Ø·
ğŸ“ˆ Throughput: 2000+ Ø·Ù„Ø¨Ø§Øª/Ø«Ø§Ù†ÙŠØ©
```

### 2. Ù†Ø¸Ø§Ù… Cache Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª

#### Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø³ÙŠÙ†: Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ cache
```typescript
// Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø£ÙŠ Ù†Ø¸Ø§Ù… cache
@Get(':id')
async getProduct(@Param('id') id: string) {
  // ÙƒÙ„ Ø·Ù„Ø¨ ÙŠØ°Ù‡Ø¨ Ù„Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª!
  const product = await this.productService.findById(id);
  return product;
}
```

#### Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø³ÙŠÙ†: Ù†Ø¸Ø§Ù… cache Ù…ØªØ·ÙˆØ±
```typescript
// CacheService - Ù†Ø¸Ø§Ù… cache Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª
@Injectable()
export class CacheService {
  private l1Cache = new Map<string, { value: any; expiry: number }>();
  private readonly L1_TTL = 5 * 60 * 1000; // 5 minutes
  private readonly L2_TTL = 60 * 60 * 1000; // 1 hour

  constructor(
    @Inject(CACHE_MANAGER) private cacheManager: Cache,
    private readonly metricsService: MetricsService,
  ) {
    // ØªÙ†Ø¸ÙŠÙ L1 cache ÙƒÙ„ Ø¯Ù‚ÙŠÙ‚Ø©
    setInterval(() => this.cleanupL1Cache(), 60 * 1000);
  }

  async get(key: string): Promise<any> {
    const startTime = Date.now();

    // ÙØ­Øµ L1 cache Ø£ÙˆÙ„Ø§Ù‹ (ÙÙŠ Ø§Ù„Ø°Ø§ÙƒØ±Ø©)
    const l1Entry = this.l1Cache.get(key);
    if (l1Entry && l1Entry.expiry > Date.now()) {
      this.metricsService.incrementCacheHit('L1', this.getKeyPrefix(key));
      this.metricsService.recordCacheLatency('L1', Date.now() - startTime);
      return l1Entry.value;
    }

    // ÙØ­Øµ L2 cache (Redis)
    const l2Value = await this.cacheManager.get(key);
    if (l2Value !== null) {
      const parsedValue = JSON.parse(l2Value as string);
      
      // ØªØ­Ø¯ÙŠØ« L1 cache
      this.l1Cache.set(key, {
        value: parsedValue,
        expiry: Date.now() + this.L1_TTL,
      });
      
      this.metricsService.incrementCacheHit('L2', this.getKeyPrefix(key));
      this.metricsService.recordCacheLatency('L2', Date.now() - startTime);
      return parsedValue;
    }

    // Cache miss
    this.metricsService.incrementCacheMiss(this.getKeyPrefix(key));
    return null;
  }

  async set(key: string, value: any, ttl?: number): Promise<void> {
    const actualTtl = ttl || this.L2_TTL;
    
    // Ø­ÙØ¸ ÙÙŠ L1 cache
    this.l1Cache.set(key, {
      value,
      expiry: Date.now() + Math.min(actualTtl, this.L1_TTL),
    });

    // Ø­ÙØ¸ ÙÙŠ L2 cache (Redis)
    await this.cacheManager.set(
      key,
      JSON.stringify(value),
      actualTtl,
    );
    
    this.metricsService.incrementCacheOperation('set', 'success', 'both');
  }

  private cleanupL1Cache(): void {
    const now = Date.now();
    let cleanedCount = 0;
    
    for (const [key, entry] of this.l1Cache.entries()) {
      if (entry.expiry <= now) {
        this.l1Cache.delete(key);
        cleanedCount++;
      }
    }
    
    if (cleanedCount > 0) {
      this.metricsService.recordCacheCleanup('L1', cleanedCount);
    }
  }

  private getKeyPrefix(key: string): string {
    return key.split(':')[0] || 'unknown';
  }
}

// Ø§Ø³ØªØ®Ø¯Ø§Ù… Cache ÙÙŠ ProductService
@Injectable()
export class ProductService {
  async findById(id: string): Promise<Product> {
    const cacheKey = `product:${id}`;
    
    // ÙØ­Øµ cache Ø£ÙˆÙ„Ø§Ù‹
    const cachedProduct = await this.cacheService.get(cacheKey);
    if (cachedProduct) {
      return cachedProduct;
    }

    // Ø¬Ù„Ø¨ Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    const product = await this.productRepository.findById(id);
    if (!product) {
      throw new NotFoundException('Product not found');
    }

    // Ø­ÙØ¸ ÙÙŠ cache
    await this.cacheService.set(cacheKey, product, 600); // 10 minutes
    
    return product;
  }
}
```

### 3. Cursor Pagination - Ø«ÙˆØ±Ø© ÙÙŠ Ø§Ù„Ø£Ø¯Ø§Ø¡

#### Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø³ÙŠÙ†: Offset Pagination Ù…Ø¯Ù…Ø±
```typescript
// PaginationService Ø§Ù„Ù‚Ø¯ÙŠÙ… - ÙƒØ§Ø±Ø«Ø© Ø£Ø¯Ø§Ø¡
async paginate(model: any, page: number, limit: number) {
  const skip = (page - 1) * limit; // ÙƒÙ„Ù…Ø§ Ø²Ø§Ø¯ Ø§Ù„Ù€ pageØŒ ÙƒÙ„Ù…Ø§ Ø£ØµØ¨Ø­ Ø£Ø¨Ø·Ø£!
  
  // Ù„Ù„ØµÙØ­Ø© 1000 Ù…Ø¹ limit 20:
  // skip = 999 * 20 = 19,980
  // MongoDB ÙŠØ¬Ø¨ Ø£Ù† ÙŠØªØ®Ø·Ù‰ 19,980 Ø³Ø¬Ù„!
  
  const items = await model.find()
    .skip(skip) // ÙƒØ§Ø±Ø«Ø© Ø£Ø¯Ø§Ø¡!
    .limit(limit)
    .exec();
    
  const total = await model.countDocuments(); // Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø¥Ø¶Ø§ÙÙŠ Ø¨Ø·ÙŠØ¡!
  
  return {
    items,
    total,
    page,
    totalPages: Math.ceil(total / limit)
  };
}
```

**Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù…Ø±Ø¹Ø¨Ø© Ù„Ù„Ù€ Offset Pagination:**
```
ğŸ“„ Ø§Ù„ØµÙØ­Ø© 1: 200ms
ğŸ“„ Ø§Ù„ØµÙØ­Ø© 10: 800ms  
ğŸ“„ Ø§Ù„ØµÙØ­Ø© 100: 5.2 Ø«Ø§Ù†ÙŠØ©
ğŸ“„ Ø§Ù„ØµÙØ­Ø© 1000: 45 Ø«Ø§Ù†ÙŠØ©!
ğŸ“„ Ø§Ù„ØµÙØ­Ø© 5000: timeout (>60 Ø«Ø§Ù†ÙŠØ©)
```

#### Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø³ÙŠÙ†: Cursor Pagination Ø³Ø±ÙŠØ¹ Ø§Ù„Ø¨Ø±Ù‚
```typescript
// PaginationService Ø§Ù„Ø¬Ø¯ÙŠØ¯ - Ø£Ø¯Ø§Ø¡ ÙØ§Ø¦Ù‚
@Injectable()
export class PaginationService {
  encodeCursor(doc: any): string {
    const cursorData = {
      _id: doc._id.toString(),
      createdAt: doc.createdAt.toISOString(),
    };
    return Buffer.from(JSON.stringify(cursorData)).toString('base64');
  }

  decodeCursor(cursor: string): any {
    try {
      const decoded = Buffer.from(cursor, 'base64').toString('utf-8');
      return JSON.parse(decoded);
    } catch (error) {
      throw new BadRequestException('Invalid cursor format');
    }
  }

  async paginate<T>(
    model: Model<T>,
    options: CursorPaginationOptions,
  ): Promise<CursorPaginationResult<T>> {
    const { limit = 20, cursor, sortField = 'createdAt', sortOrder = -1 } = options;

    let query = model.find(options.query || {});

    if (cursor) {
      const decodedCursor = this.decodeCursor(cursor);
      const operator = sortOrder === 1 ? '$gt' : '$lt';
      
      // Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙÙ‡Ø±Ø³ Ù…Ø±ÙƒØ¨ Ù„Ù„Ø³Ø±Ø¹Ø© Ø§Ù„Ù‚ØµÙˆÙ‰
      query = query.where({
        $or: [
          { [sortField]: { [operator]: new Date(decodedCursor[sortField]) } },
          {
            [sortField]: new Date(decodedCursor[sortField]),
            _id: { [operator]: new Types.ObjectId(decodedCursor._id) },
          },
        ],
      });
    }

    // Ø¬Ù„Ø¨ Ø³Ø¬Ù„ Ø¥Ø¶Ø§ÙÙŠ Ù„Ù…Ø¹Ø±ÙØ© ÙˆØ¬ÙˆØ¯ ØµÙØ­Ø© ØªØ§Ù„ÙŠØ©
    const documents = await query
      .sort({ [sortField]: sortOrder, _id: sortOrder })
      .limit(limit + 1)
      .exec();

    const hasNextPage = documents.length > limit;
    const items = hasNextPage ? documents.slice(0, -1) : documents;
    const nextCursor = hasNextPage ? this.encodeCursor(documents[limit - 1]) : null;

    return {
      items,
      nextCursor,
      hasNextPage,
      // ØªÙ‚Ø¯ÙŠØ± Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø­Ø³Ø§Ø¨ Ø¯Ù‚ÙŠÙ‚ (Ù„Ù„Ø³Ø±Ø¹Ø©)
      estimatedTotal: await this.estimateTotal(model, options.query),
    };
  }

  private async estimateTotal<T>(model: Model<T>, query: any): Promise<number> {
    // Ø§Ø³ØªØ®Ø¯Ø§Ù… explain() Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªÙ‚Ø¯ÙŠØ± Ø³Ø±ÙŠØ¹
    const stats = await model.find(query).explain('executionStats');
    return stats.executionStats.totalDocsExamined || 0;
  }
}
```

**Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù…Ø°Ù‡Ù„Ø© Ù„Ù„Ù€ Cursor Pagination:**
```
ğŸ“„ Ø£ÙŠ ØµÙØ­Ø©: 15-25ms (Ø«Ø§Ø¨Øª!)
ğŸ“„ Ø§Ù„ØµÙØ­Ø© 1: 18ms
ğŸ“„ Ø§Ù„ØµÙØ­Ø© 1000: 22ms
ğŸ“„ Ø§Ù„ØµÙØ­Ø© 100,000: 25ms
ğŸ“„ Ø§Ù„ØµÙØ­Ø© 1,000,000: 28ms
```

### 4. ÙÙ‡Ø§Ø±Ø³ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª - Ø§Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø¬Ø°Ø±ÙŠ

#### Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø³ÙŠÙ†: Ø¨Ø¯ÙˆÙ† ÙÙ‡Ø§Ø±Ø³
```javascript
// Products Collection - Ø¨Ø¯ÙˆÙ† ÙÙ‡Ø§Ø±Ø³!
{
  _id: ObjectId, // Ø§Ù„ÙÙ‡Ø±Ø³ Ø§Ù„ÙˆØ­ÙŠØ¯!
  name: String, // Ø¨Ø­Ø« Ø¨Ø¯ÙˆÙ† ÙÙ‡Ø±Ø³
  category: String, // ÙÙ„ØªØ±Ø© Ø¨Ø¯ÙˆÙ† ÙÙ‡Ø±Ø³  
  price: Number, // ØªØ±ØªÙŠØ¨ Ø¨Ø¯ÙˆÙ† ÙÙ‡Ø±Ø³
  merchantId: ObjectId, // join Ø¨Ø¯ÙˆÙ† ÙÙ‡Ø±Ø³
  tags: [String], // Ø¨Ø­Ø« ÙÙŠ array Ø¨Ø¯ÙˆÙ† ÙÙ‡Ø±Ø³
  location: {
    type: "Point",
    coordinates: [Number, Number] // Ø¨Ø­Ø« Ø¬ØºØ±Ø§ÙÙŠ Ø¨Ø¯ÙˆÙ† ÙÙ‡Ø±Ø³!
  },
  createdAt: Date, // ØªØ±ØªÙŠØ¨ Ø¨Ø¯ÙˆÙ† ÙÙ‡Ø±Ø³
  status: String // ÙÙ„ØªØ±Ø© Ø¨Ø¯ÙˆÙ† ÙÙ‡Ø±Ø³
}
```

#### Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø³ÙŠÙ†: ÙÙ‡Ø§Ø±Ø³ Ù…Ø­Ø³Ù‘Ù†Ø© ÙˆÙ…ØªÙ‚Ø¯Ù…Ø©
```javascript
// ÙÙ‡Ø§Ø±Ø³ Products Collection Ø§Ù„Ù…Ø­Ø³Ù‘Ù†Ø©
const productIndexes = [
  // ÙÙ‡Ø±Ø³ Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù†ØµÙŠ
  { 
    name: 'text', 
    description: 'text',
    tags: 'text'
  },
  
  // ÙÙ‡Ø§Ø±Ø³ Ø§Ù„ÙÙ„ØªØ±Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
  { categoryId: 1, status: 1 }, // ÙÙ„ØªØ±Ø© Ø¨Ø§Ù„ÙØ¦Ø© ÙˆØ§Ù„Ø­Ø§Ù„Ø©
  { merchantId: 1, createdAt: -1 }, // Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„ØªØ§Ø¬Ø± Ù…Ø±ØªØ¨Ø© Ø¨Ø§Ù„ØªØ§Ø±ÙŠØ®
  { status: 1, featured: -1, createdAt: -1 }, // Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ù…ÙŠØ²Ø©
  
  // ÙÙ‡Ø§Ø±Ø³ Ø§Ù„Ø³Ø¹Ø± ÙˆØ§Ù„ØªØ±ØªÙŠØ¨
  { price: 1, categoryId: 1 }, // ØªØ±ØªÙŠØ¨ Ø¨Ø§Ù„Ø³Ø¹Ø± Ø¯Ø§Ø®Ù„ Ø§Ù„ÙØ¦Ø©
  { discount: -1, status: 1 }, // Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø®ÙØ¶Ø©
  { rating: -1, reviewCount: -1 }, // Ø§Ù„Ø£Ø¹Ù„Ù‰ ØªÙ‚ÙŠÙŠÙ…Ø§Ù‹
  
  // ÙÙ‡Ø±Ø³ Ø¬ØºØ±Ø§ÙÙŠ Ù„Ù„Ø¨Ø­Ø« Ø¨Ø§Ù„Ù…ÙˆÙ‚Ø¹
  { location: '2dsphere' },
  
  // ÙÙ‡Ø§Ø±Ø³ Ù…Ø±ÙƒØ¨Ø© Ù„Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ù…Ø¹Ù‚Ø¯Ø©
  { categoryId: 1, price: 1, status: 1 }, // ÙÙ„ØªØ±Ø© Ø´Ø§Ù…Ù„Ø©
  { merchantId: 1, status: 1, createdAt: -1 }, // Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„ØªØ§Ø¬Ø± Ø§Ù„Ù†Ø´Ø·Ø©
  { tags: 1, status: 1, price: 1 }, // Ø¨Ø­Ø« Ø¨Ø§Ù„Ø¹Ù„Ø§Ù…Ø§Øª Ù…Ø¹ Ø§Ù„Ø³Ø¹Ø±
  
  // ÙÙ‡Ø§Ø±Ø³ Ù„Ù„Ù€ cursor pagination
  { createdAt: -1, _id: -1 }, // ØªØ±ØªÙŠØ¨ Ø²Ù…Ù†ÙŠ
  { updatedAt: -1, _id: -1 }, // Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«
  { popularity: -1, _id: -1 }, // Ø§Ù„Ø£ÙƒØ«Ø± Ø´Ø¹Ø¨ÙŠØ©
  
  // ÙÙ‡Ø§Ø±Ø³ Ù„Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
  { createdAt: 1, merchantId: 1 }, // ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
  { status: 1, categoryId: 1, createdAt: 1 }, // Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙØ¦Ø§Øª
];

// ÙÙ‡Ø§Ø±Ø³ Users Collection Ø§Ù„Ù…Ø­Ø³Ù‘Ù†Ø©
const userIndexes = [
  // ÙÙ‡Ø§Ø±Ø³ ÙØ±ÙŠØ¯Ø© Ù„Ù„Ø¨Ø­Ø« Ø§Ù„Ø³Ø±ÙŠØ¹
  { email: 1 }, // ÙØ±ÙŠØ¯ Ù„Ù„Ø¨Ø­Ø« Ø¨Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„
  { phoneNumber: 1 }, // ÙØ±ÙŠØ¯ Ù„Ù„Ø¨Ø­Ø« Ø¨Ø§Ù„Ù‡Ø§ØªÙ
  
  // ÙÙ‡Ø§Ø±Ø³ Ø§Ù„Ø£Ø¯ÙˆØ§Ø± ÙˆØ§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª
  { role: 1, status: 1 }, // Ø§Ù„Ø¨Ø­Ø« Ø¨Ø§Ù„Ø¯ÙˆØ± ÙˆØ§Ù„Ø­Ø§Ù„Ø©
  { merchantId: 1, role: 1 }, // Ù…Ø³ØªØ®Ø¯Ù…ÙŠ Ø§Ù„ØªØ§Ø¬Ø±
  { permissions: 1, status: 1 }, // Ø§Ù„Ø¨Ø­Ø« Ø¨Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª
  
  // ÙÙ‡Ø§Ø±Ø³ Ø§Ù„Ù†Ø´Ø§Ø· ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
  { lastLoginAt: -1 }, // Ø¢Ø®Ø± ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„
  { createdAt: -1, _id: -1 }, // Cursor pagination
  { isActive: 1, lastLoginAt: -1 }, // Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ù†Ø´Ø·ÙŠÙ†
  
  // ÙÙ‡Ø§Ø±Ø³ Ø§Ù„ØªØ­Ù‚Ù‚ ÙˆØ§Ù„Ø£Ù…Ø§Ù†
  { emailVerified: 1, phoneVerified: 1 }, // Ø­Ø§Ù„Ø© Ø§Ù„ØªØ­Ù‚Ù‚
  { resetPasswordToken: 1 }, // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
  { refreshTokens: 1 }, // Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¬Ù„Ø³Ø§Øª
];

// ÙÙ‡Ø§Ø±Ø³ Orders Collection Ø§Ù„Ù…Ø­Ø³Ù‘Ù†Ø©
const orderIndexes = [
  // ÙÙ‡Ø§Ø±Ø³ Ø§Ù„Ø¹Ù…ÙŠÙ„ ÙˆØ§Ù„ØªØ§Ø¬Ø±
  { userId: 1, createdAt: -1 }, // Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„
  { merchantId: 1, status: 1, createdAt: -1 }, // Ø·Ù„Ø¨Ø§Øª Ø§Ù„ØªØ§Ø¬Ø±
  
  // ÙÙ‡Ø§Ø±Ø³ Ø§Ù„Ø­Ø§Ù„Ø© ÙˆØ§Ù„Ø¯ÙØ¹
  { status: 1, createdAt: -1 }, // ØªØ±ØªÙŠØ¨ Ø¨Ø§Ù„Ø­Ø§Ù„Ø©
  { paymentStatus: 1, paymentMethod: 1 }, // Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹
  { deliveryStatus: 1, estimatedDelivery: 1 }, // Ø­Ø§Ù„Ø© Ø§Ù„ØªÙˆØµÙŠÙ„
  
  // ÙÙ‡Ø§Ø±Ø³ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø§Ù„ÙŠØ©
  { createdAt: 1, totalAmount: 1 }, // ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
  { merchantId: 1, createdAt: 1, totalAmount: 1 }, // Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„ØªØ§Ø¬Ø±
  
  // ÙÙ‡Ø§Ø±Ø³ Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„ÙÙ„ØªØ±Ø©
  { orderNumber: 1 }, // ÙØ±ÙŠØ¯ Ù„Ù„Ø¨Ø­Ø« Ø¨Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨
  { 'items.productId': 1 }, // Ø§Ù„Ø¨Ø­Ø« Ø¨Ø§Ù„Ù…Ù†ØªØ¬
  { trackingNumber: 1 }, // ØªØªØ¨Ø¹ Ø§Ù„Ø´Ø­Ù†Ø©
];
```

### 5. Ù…Ù‚Ø§Ø±Ù†Ø© Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ø£Ø¯Ø§Ø¡

| Ø§Ù„Ù…Ø¤Ø´Ø± | Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø³ÙŠÙ† | Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø³ÙŠÙ† | Ù†Ø³Ø¨Ø© Ø§Ù„ØªØ­Ø³Ù† |
|---------|-------------|-------------|-------------|
| **Ø²Ù…Ù† Ø§Ø³ØªØ¬Ø§Ø¨Ø© API (p95)** | 8.5 Ø«Ø§Ù†ÙŠØ© | 180ms | **-97.9%** |
| **Ø²Ù…Ù† Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª** | 5.2 Ø«Ø§Ù†ÙŠØ© | 25ms | **-99.5%** |
| **Cache Hit Rate** | 0% | 85% | **+âˆ** |
| **Throughput (Ø·Ù„Ø¨Ø§Øª/Ø«Ø§Ù†ÙŠØ©)** | 5 | 2,000+ | **+39,900%** |
| **Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„Ø°Ø§ÙƒØ±Ø©** | 2.5GB | 400MB | **-84%** |
| **Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ CPU** | 95% | 25% | **-73.7%** |
| **Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª/ØµÙØ­Ø©** | 150+ | 1-2 | **-98.7%** |
| **ÙˆÙ‚Øª ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©** | 15 Ø«Ø§Ù†ÙŠØ© | 0.8 Ø«Ø§Ù†ÙŠØ© | **-94.7%** |

### 6. Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡

#### Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø³ÙŠÙ†: ÙØ´Ù„ ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡
```bash
# Load Testing Results - Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø³ÙŠÙ†
$ ab -n 1000 -c 10 http://localhost:3000/api/products

Requests per second: 2.3 [#/sec] (mean)
Time per request: 4347.826 [ms] (mean)
Time per request: 434.783 [ms] (mean, across all concurrent requests)
Transfer rate: 15.67 [Kbytes/sec] received

Connection Times (ms)
              min  mean[+/-sd] median   max
Connect:        0    1   0.3      1       2
Processing:  3456 4340 892.1   4123    8901
Waiting:     3455 4339 892.1   4122    8900
Total:       3456 4341 892.1   4124    8902

Percentage of the requests served within a certain time (ms)
  50%   4124
  66%   4567
  75%   4890
  80%   5123
  90%   5678
  95%   6234
  98%   7456
  99%   8123
 100%   8902 (longest request)

# Ø§Ù„Ù†ØªÙŠØ¬Ø©: ÙØ´Ù„ ÙƒØ§Ù…Ù„
```

#### Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø³ÙŠÙ†: Ù†Ø¬Ø§Ø­ Ø¨Ø§Ù‡Ø± ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡
```bash
# Load Testing Results - Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø³ÙŠÙ†
$ ab -n 10000 -c 100 http://localhost:3000/api/products

Requests per second: 2847.32 [#/sec] (mean)
Time per request: 35.123 [ms] (mean)
Time per request: 0.351 [ms] (mean, across all concurrent requests)
Transfer rate: 1,234.56 [Kbytes/sec] received

Connection Times (ms)
              min  mean[+/-sd] median   max
Connect:        0    1   0.2      1       3
Processing:    12   34  15.2     32     156
Waiting:       11   33  15.1     31     155
Total:         12   35  15.2     33     157

Percentage of the requests served within a certain time (ms)
  50%     33
  66%     38
  75%     42
  80%     45
  90%     52
  95%     67
  98%     89
  99%    123
 100%    157 (longest request)

# Ø§Ù„Ù†ØªÙŠØ¬Ø©: Ù†Ø¬Ø§Ø­ Ø¨Ø§Ù‡Ø± - ØªØ­Ø³Ù† 1,200x ÙÙŠ Ø§Ù„Ø£Ø¯Ø§Ø¡!
```

---


## Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ©: Ù…Ù† Ø§Ù„ÙÙˆØ¶Ù‰ Ø¥Ù„Ù‰ Ø§Ù„Ù†Ø¸Ø§Ù…

### 1. Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ - Ø¥Ø¹Ø§Ø¯Ø© ØªÙ†Ø¸ÙŠÙ… Ø´Ø§Ù…Ù„Ø©

#### Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø³ÙŠÙ†: ÙÙˆØ¶Ù‰ Ù…Ø¹Ù…Ø§Ø±ÙŠØ© ÙƒØ§Ù…Ù„Ø©
```
src/
â”œâ”€â”€ app.module.ts
â”œâ”€â”€ main.ts
â”œâ”€â”€ auth/
â”‚   â”œâ”€â”€ auth.service.ts (500+ lines!)
â”‚   â””â”€â”€ auth.controller.ts (300+ lines!)
â”œâ”€â”€ users/
â”‚   â”œâ”€â”€ users.service.ts (800+ lines!)
â”‚   â””â”€â”€ users.controller.ts (400+ lines!)
â”œâ”€â”€ products/
â”‚   â”œâ”€â”€ products.service.ts (1200+ lines!)
â”‚   â””â”€â”€ products.controller.ts (600+ lines!)
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ everything.ts (2000+ lines of mixed utilities!)
â””â”€â”€ config/
    â””â”€â”€ database.ts (hardcoded values!)

# Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ© Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©:
âŒ Ù…Ù„ÙØ§Øª Ø¹Ù…Ù„Ø§Ù‚Ø© (1000+ Ø³Ø·Ø±)
âŒ Ø®Ù„Ø· Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ§Øª
âŒ Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ø·Ø¨Ù‚Ø§Øª ÙˆØ§Ø¶Ø­Ø©
âŒ ØªØ¨Ø¹ÙŠØ§Øª Ù…ØªØ´Ø§Ø¨ÙƒØ©
âŒ Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ separation of concerns
âŒ ÙƒÙˆØ¯ Ù…ÙƒØ±Ø± ÙÙŠ ÙƒÙ„ Ù…ÙƒØ§Ù†
âŒ Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ design patterns
```

#### Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø³ÙŠÙ†: Ù…Ø¹Ù…Ø§Ø±ÙŠØ© Ø§Ø­ØªØ±Ø§ÙÙŠØ© ÙˆÙ…Ù†Ø¸Ù…Ø©
```
src/
â”œâ”€â”€ main.ts
â”œâ”€â”€ app.module.ts
â”œâ”€â”€ common/                    # Ù…ÙƒÙˆÙ†Ø§Øª Ù…Ø´ØªØ±ÙƒØ©
â”‚   â”œâ”€â”€ decorators/           # Custom decorators
â”‚   â”œâ”€â”€ filters/              # Exception filters
â”‚   â”œâ”€â”€ guards/               # Authentication & authorization guards
â”‚   â”œâ”€â”€ interceptors/         # Request/response interceptors
â”‚   â”œâ”€â”€ pipes/                # Validation pipes
â”‚   â”œâ”€â”€ middleware/           # Custom middleware
â”‚   â””â”€â”€ utils/                # Utility functions
â”œâ”€â”€ config/                   # Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
â”‚   â”œâ”€â”€ app.config.ts
â”‚   â”œâ”€â”€ database.config.ts
â”‚   â”œâ”€â”€ cache.config.ts
â”‚   â”œâ”€â”€ security.config.ts
â”‚   â””â”€â”€ validation.schemas.ts
â”œâ”€â”€ core/                     # Ø§Ù„ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
â”‚   â”œâ”€â”€ database/
â”‚   â”‚   â”œâ”€â”€ database.module.ts
â”‚   â”‚   â”œâ”€â”€ database.service.ts
â”‚   â”‚   â””â”€â”€ migrations/
â”‚   â”œâ”€â”€ cache/
â”‚   â”‚   â”œâ”€â”€ cache.module.ts
â”‚   â”‚   â”œâ”€â”€ cache.service.ts
â”‚   â”‚   â””â”€â”€ cache.interceptor.ts
â”‚   â”œâ”€â”€ logger/
â”‚   â”‚   â”œâ”€â”€ logger.module.ts
â”‚   â”‚   â”œâ”€â”€ logger.service.ts
â”‚   â”‚   â””â”€â”€ logger.interceptor.ts
â”‚   â””â”€â”€ metrics/
â”‚       â”œâ”€â”€ metrics.module.ts
â”‚       â”œâ”€â”€ metrics.service.ts
â”‚       â””â”€â”€ metrics.controller.ts
â”œâ”€â”€ modules/                  # ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ø£Ø¹Ù…Ø§Ù„
â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”œâ”€â”€ auth.module.ts
â”‚   â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.controller.ts (80 lines)
â”‚   â”‚   â”‚   â””â”€â”€ session.controller.ts (60 lines)
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.service.ts (120 lines)
â”‚   â”‚   â”‚   â”œâ”€â”€ token.service.ts (150 lines)
â”‚   â”‚   â”‚   â””â”€â”€ session.service.ts (100 lines)
â”‚   â”‚   â”œâ”€â”€ guards/
â”‚   â”‚   â”‚   â”œâ”€â”€ jwt.guard.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ roles.guard.ts
â”‚   â”‚   â”‚   â””â”€â”€ webhook.guard.ts
â”‚   â”‚   â”œâ”€â”€ strategies/
â”‚   â”‚   â”‚   â”œâ”€â”€ jwt.strategy.ts
â”‚   â”‚   â”‚   â””â”€â”€ local.strategy.ts
â”‚   â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â”‚   â”œâ”€â”€ login.dto.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ register.dto.ts
â”‚   â”‚   â”‚   â””â”€â”€ refresh-token.dto.ts
â”‚   â”‚   â””â”€â”€ entities/
â”‚   â”‚       â””â”€â”€ session.entity.ts
â”‚   â”œâ”€â”€ users/
â”‚   â”‚   â”œâ”€â”€ users.module.ts
â”‚   â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”‚   â”œâ”€â”€ users.controller.ts (90 lines)
â”‚   â”‚   â”‚   â”œâ”€â”€ profile.controller.ts (70 lines)
â”‚   â”‚   â”‚   â””â”€â”€ admin-users.controller.ts (100 lines)
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”œâ”€â”€ users.service.ts (130 lines)
â”‚   â”‚   â”‚   â”œâ”€â”€ profile.service.ts (80 lines)
â”‚   â”‚   â”‚   â””â”€â”€ user-preferences.service.ts (60 lines)
â”‚   â”‚   â”œâ”€â”€ repositories/
â”‚   â”‚   â”‚   â””â”€â”€ users.repository.ts (150 lines)
â”‚   â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â”‚   â”œâ”€â”€ create-user.dto.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ update-user.dto.ts
â”‚   â”‚   â”‚   â””â”€â”€ user-filters.dto.ts
â”‚   â”‚   â””â”€â”€ entities/
â”‚   â”‚       â”œâ”€â”€ user.entity.ts
â”‚   â”‚       â””â”€â”€ user-preference.entity.ts
â”‚   â”œâ”€â”€ products/
â”‚   â”‚   â”œâ”€â”€ products.module.ts
â”‚   â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”‚   â”œâ”€â”€ products.controller.ts (100 lines)
â”‚   â”‚   â”‚   â”œâ”€â”€ categories.controller.ts (80 lines)
â”‚   â”‚   â”‚   â””â”€â”€ admin-products.controller.ts (120 lines)
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”œâ”€â”€ products.service.ts (140 lines)
â”‚   â”‚   â”‚   â”œâ”€â”€ categories.service.ts (90 lines)
â”‚   â”‚   â”‚   â”œâ”€â”€ search.service.ts (110 lines)
â”‚   â”‚   â”‚   â””â”€â”€ recommendations.service.ts (100 lines)
â”‚   â”‚   â”œâ”€â”€ repositories/
â”‚   â”‚   â”‚   â”œâ”€â”€ products.repository.ts (180 lines)
â”‚   â”‚   â”‚   â””â”€â”€ categories.repository.ts (100 lines)
â”‚   â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â”‚   â”œâ”€â”€ create-product.dto.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ update-product.dto.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ product-filters.dto.ts
â”‚   â”‚   â”‚   â””â”€â”€ search-products.dto.ts
â”‚   â”‚   â””â”€â”€ entities/
â”‚   â”‚       â”œâ”€â”€ product.entity.ts
â”‚   â”‚       â”œâ”€â”€ category.entity.ts
â”‚   â”‚       â””â”€â”€ product-variant.entity.ts
â”‚   â”œâ”€â”€ orders/
â”‚   â”‚   â”œâ”€â”€ orders.module.ts
â”‚   â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ repositories/
â”‚   â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â””â”€â”€ entities/
â”‚   â”œâ”€â”€ payments/
â”‚   â”‚   â”œâ”€â”€ payments.module.ts
â”‚   â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ repositories/
â”‚   â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â””â”€â”€ entities/
â”‚   â””â”€â”€ notifications/
â”‚       â”œâ”€â”€ notifications.module.ts
â”‚       â”œâ”€â”€ controllers/
â”‚       â”œâ”€â”€ services/
â”‚       â”œâ”€â”€ repositories/
â”‚       â”œâ”€â”€ dto/
â”‚       â””â”€â”€ entities/
â”œâ”€â”€ shared/                   # Ù…ÙƒÙˆÙ†Ø§Øª Ù…Ø´ØªØ±ÙƒØ© Ø¨ÙŠÙ† Ø§Ù„ÙˆØ­Ø¯Ø§Øª
â”‚   â”œâ”€â”€ interfaces/
â”‚   â”œâ”€â”€ types/
â”‚   â”œâ”€â”€ constants/
â”‚   â”œâ”€â”€ enums/
â”‚   â””â”€â”€ base/
â”‚       â”œâ”€â”€ base.entity.ts
â”‚       â”œâ”€â”€ base.repository.ts
â”‚       â”œâ”€â”€ base.service.ts
â”‚       â””â”€â”€ base.controller.ts
â””â”€â”€ integrations/            # ØªÙƒØ§Ù…Ù„Ø§Øª Ø®Ø§Ø±Ø¬ÙŠØ©
    â”œâ”€â”€ openai/
    â”œâ”€â”€ stripe/
    â”œâ”€â”€ sendgrid/
    â”œâ”€â”€ twilio/
    â””â”€â”€ n8n/
```

### 2. Separation of Concerns - ÙØµÙ„ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ§Øª

#### Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø³ÙŠÙ†: Ø®Ù„Ø· ÙƒØ§Ù…Ù„ Ù„Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ§Øª
```typescript
// ProductService Ø§Ù„Ù‚Ø¯ÙŠÙ… - ÙƒØ§Ø±Ø«Ø© Ù…Ø¹Ù…Ø§Ø±ÙŠØ©
@Injectable()
export class ProductService {
  async getProducts(filters: any) {
    // Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© 1: Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª (ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† ÙÙŠ Guard!)
    if (!user.hasPermission('read:products')) {
      throw new UnauthorizedException();
    }
    
    // Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© 2: Validation (ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† ÙÙŠ Pipe!)
    if (!filters.category || filters.category.length < 2) {
      throw new BadRequestException('Invalid category');
    }
    
    // Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© 3: Business Logic (ØµØ­ÙŠØ­ Ù‡Ù†Ø§)
    const products = await this.productModel.find(filters);
    
    // Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© 4: Data Transformation (ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† ÙÙŠ Interceptor!)
    const transformedProducts = products.map(p => ({
      id: p._id,
      name: p.name.toUpperCase(),
      price: `${p.price} SAR`,
      // ... ØªØ­ÙˆÙŠÙ„Ø§Øª Ù…Ø¹Ù‚Ø¯Ø©
    }));
    
    // Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© 5: Caching (ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† ÙÙŠ Cache Service!)
    await this.redis.set(`products:${JSON.stringify(filters)}`, JSON.stringify(transformedProducts));
    
    // Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© 6: Logging (ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† ÙÙŠ Interceptor!)
    console.log(`User ${user.id} fetched ${products.length} products`);
    
    // Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© 7: Metrics (ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† ÙÙŠ Interceptor!)
    this.incrementCounter('products.fetched', products.length);
    
    return transformedProducts;
  }
}
```

#### Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø³ÙŠÙ†: ÙØµÙ„ Ù…Ø«Ø§Ù„ÙŠ Ù„Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ§Øª
```typescript
// ProductController - Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© ÙˆØ§Ø­Ø¯Ø©: HTTP handling
@Controller('products')
@UseGuards(JwtAuthGuard, RolesGuard) // Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª
@UseInterceptors(CacheInterceptor, LoggingInterceptor, MetricsInterceptor) // Ù…Ø³Ø¤ÙˆÙ„ÙŠØ§Øª Ù…ØªÙ‚Ø§Ø·Ø¹Ø©
export class ProductsController {
  constructor(private readonly productsService: ProductsService) {}

  @Get()
  @Roles(Role.USER, Role.ADMIN)
  @ApiOperation({ summary: 'Get products with filters' })
  @ApiResponse({ status: 200, type: PaginatedProductsResponse })
  async getProducts(
    @Query(ValidationPipe) filters: ProductFiltersDto, // Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© Validation
  ): Promise<PaginatedResult<ProductResponseDto>> {
    return this.productsService.findWithFilters(filters);
  }
}

// ProductsService - Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© ÙˆØ§Ø­Ø¯Ø©: Business Logic
@Injectable()
export class ProductsService {
  constructor(
    private readonly productsRepository: ProductsRepository,
    private readonly cacheService: CacheService,
  ) {}

  async findWithFilters(filters: ProductFiltersDto): Promise<PaginatedResult<Product>> {
    // ÙÙ‚Ø· Business Logic - Ù„Ø§ Ø´ÙŠØ¡ Ø¢Ø®Ø±!
    return this.productsRepository.findWithFilters(filters);
  }

  async createProduct(createProductDto: CreateProductDto): Promise<Product> {
    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Business Rules
    await this.validateBusinessRules(createProductDto);
    
    // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ù†ØªØ¬
    return this.productsRepository.create(createProductDto);
  }

  private async validateBusinessRules(productData: CreateProductDto): Promise<void> {
    // Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¹Ù…Ù„ ÙÙ‚Ø·
    if (productData.price <= 0) {
      throw new BadRequestException('Price must be positive');
    }
    
    const existingProduct = await this.productsRepository.findByName(productData.name);
    if (existingProduct) {
      throw new ConflictException('Product name already exists');
    }
  }
}

// ProductsRepository - Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© ÙˆØ§Ø­Ø¯Ø©: Data Access
@Injectable()
export class ProductsRepository extends BaseRepository<Product> {
  constructor(@InjectModel(Product.name) productModel: Model<Product>) {
    super(productModel);
  }

  async findWithFilters(filters: ProductFiltersDto): Promise<PaginatedResult<Product>> {
    const query = this.buildQuery(filters);
    return this.paginate(query, filters);
  }

  async findByName(name: string): Promise<Product | null> {
    return this.model.findOne({ name }).exec();
  }

  private buildQuery(filters: ProductFiltersDto) {
    const query = this.model.find();
    
    if (filters.search) {
      query.where({ $text: { $search: filters.search } });
    }
    
    if (filters.categoryId) {
      query.where('categoryId').equals(filters.categoryId);
    }
    
    if (filters.minPrice || filters.maxPrice) {
      const priceFilter: any = {};
      if (filters.minPrice) priceFilter.$gte = filters.minPrice;
      if (filters.maxPrice) priceFilter.$lte = filters.maxPrice;
      query.where('price', priceFilter);
    }
    
    return query;
  }
}

// Guards - Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© ÙˆØ§Ø­Ø¯Ø©: Authorization
@Injectable()
export class RolesGuard implements CanActivate {
  constructor(private reflector: Reflector) {}

  canActivate(context: ExecutionContext): boolean {
    const requiredRoles = this.reflector.getAllAndOverride<Role[]>(ROLES_KEY, [
      context.getHandler(),
      context.getClass(),
    ]);
    
    if (!requiredRoles) {
      return true;
    }
    
    const { user } = context.switchToHttp().getRequest();
    return requiredRoles.some((role) => user.roles?.includes(role));
  }
}

// Interceptors - Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© ÙˆØ§Ø­Ø¯Ø©: Cross-cutting concerns
@Injectable()
export class LoggingInterceptor implements NestInterceptor {
  constructor(private readonly logger: Logger) {}

  intercept(context: ExecutionContext, next: CallHandler): Observable<any> {
    const request = context.switchToHttp().getRequest();
    const startTime = Date.now();
    
    return next.handle().pipe(
      tap(() => {
        const duration = Date.now() - startTime;
        this.logger.log(`${request.method} ${request.url} - ${duration}ms`);
      }),
    );
  }
}
```

### 3. Design Patterns - ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ©

#### Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø³ÙŠÙ†: Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ design patterns
```typescript
// ÙƒÙˆØ¯ Ø¨Ø¯ÙˆÙ† Ø£ÙŠ patterns - ÙÙˆØ¶Ù‰ ÙƒØ§Ù…Ù„Ø©
class ProductService {
  async getProduct(id: string) {
    // ÙƒÙˆØ¯ Ù…ÙƒØ±Ø± ÙÙŠ ÙƒÙ„ method
    if (!id) throw new Error('ID required');
    if (!ObjectId.isValid(id)) throw new Error('Invalid ID');
    
    const product = await this.productModel.findById(id);
    if (!product) throw new Error('Product not found');
    
    return product;
  }
  
  async getUser(id: string) {
    // Ù†ÙØ³ Ø§Ù„ÙƒÙˆØ¯ Ù…ÙƒØ±Ø±!
    if (!id) throw new Error('ID required');
    if (!ObjectId.isValid(id)) throw new Error('Invalid ID');
    
    const user = await this.userModel.findById(id);
    if (!user) throw new Error('User not found');
    
    return user;
  }
}
```

#### Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø³ÙŠÙ†: ØªØ·Ø¨ÙŠÙ‚ Design Patterns Ø§Ø­ØªØ±Ø§ÙÙŠØ©

**1. Repository Pattern**
```typescript
// BaseRepository - DRY principle
export abstract class BaseRepository<T> {
  constructor(protected readonly model: Model<T>) {}

  async findById(id: string): Promise<T | null> {
    this.validateObjectId(id);
    return this.model.findById(id).exec();
  }

  async findByIdOrThrow(id: string): Promise<T> {
    const entity = await this.findById(id);
    if (!entity) {
      throw new NotFoundException(`${this.model.modelName} not found`);
    }
    return entity;
  }

  async create(createDto: any): Promise<T> {
    const entity = new this.model(createDto);
    return entity.save();
  }

  async update(id: string, updateDto: any): Promise<T> {
    const entity = await this.findByIdOrThrow(id);
    Object.assign(entity, updateDto);
    return entity.save();
  }

  async delete(id: string): Promise<void> {
    await this.findByIdOrThrow(id);
    await this.model.findByIdAndDelete(id);
  }

  protected validateObjectId(id: string): void {
    if (!Types.ObjectId.isValid(id)) {
      throw new BadRequestException('Invalid ID format');
    }
  }

  protected async paginate(
    query: Query<T[], T>,
    options: PaginationOptions,
  ): Promise<PaginatedResult<T>> {
    // Ù…Ù†Ø·Ù‚ pagination Ù…Ø´ØªØ±Ùƒ
    return this.paginationService.paginate(query, options);
  }
}

// ProductsRepository - ÙŠØ±Ø« Ù…Ù† BaseRepository
@Injectable()
export class ProductsRepository extends BaseRepository<Product> {
  constructor(@InjectModel(Product.name) productModel: Model<Product>) {
    super(productModel);
  }

  // methods Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙÙ‚Ø·
  async findByCategory(categoryId: string): Promise<Product[]> {
    return this.model.find({ categoryId }).exec();
  }
}
```

**2. Factory Pattern**
```typescript
// NotificationFactory - Ø¥Ù†Ø´Ø§Ø¡ notifications Ù…Ø®ØªÙ„ÙØ©
@Injectable()
export class NotificationFactory {
  constructor(
    private readonly emailService: EmailService,
    private readonly smsService: SmsService,
    private readonly pushService: PushNotificationService,
  ) {}

  createNotification(type: NotificationType, data: NotificationData): INotificationService {
    switch (type) {
      case NotificationType.EMAIL:
        return this.emailService;
      case NotificationType.SMS:
        return this.smsService;
      case NotificationType.PUSH:
        return this.pushService;
      default:
        throw new Error(`Unsupported notification type: ${type}`);
    }
  }

  async sendNotification(
    type: NotificationType,
    recipient: string,
    message: NotificationMessage,
  ): Promise<void> {
    const service = this.createNotification(type, { recipient, message });
    await service.send(recipient, message);
  }
}
```

**3. Strategy Pattern**
```typescript
// PaymentStrategy - Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø¯ÙØ¹ Ù…Ø®ØªÙ„ÙØ©
interface PaymentStrategy {
  processPayment(amount: number, paymentData: any): Promise<PaymentResult>;
}

@Injectable()
export class StripePaymentStrategy implements PaymentStrategy {
  async processPayment(amount: number, paymentData: StripePaymentData): Promise<PaymentResult> {
    // Ù…Ù†Ø·Ù‚ Stripe
    const charge = await this.stripe.charges.create({
      amount: amount * 100,
      currency: 'sar',
      source: paymentData.token,
    });
    
    return {
      success: true,
      transactionId: charge.id,
      amount: charge.amount / 100,
    };
  }
}

@Injectable()
export class PayPalPaymentStrategy implements PaymentStrategy {
  async processPayment(amount: number, paymentData: PayPalPaymentData): Promise<PaymentResult> {
    // Ù…Ù†Ø·Ù‚ PayPal
    const payment = await this.paypal.payment.create({
      intent: 'sale',
      payer: { payment_method: 'paypal' },
      transactions: [{ amount: { total: amount.toString(), currency: 'SAR' } }],
    });
    
    return {
      success: true,
      transactionId: payment.id,
      amount: amount,
    };
  }
}

// PaymentService - ÙŠØ³ØªØ®Ø¯Ù… Strategy Pattern
@Injectable()
export class PaymentService {
  private strategies = new Map<PaymentMethod, PaymentStrategy>();

  constructor(
    private readonly stripeStrategy: StripePaymentStrategy,
    private readonly paypalStrategy: PayPalPaymentStrategy,
  ) {
    this.strategies.set(PaymentMethod.STRIPE, this.stripeStrategy);
    this.strategies.set(PaymentMethod.PAYPAL, this.paypalStrategy);
  }

  async processPayment(
    method: PaymentMethod,
    amount: number,
    paymentData: any,
  ): Promise<PaymentResult> {
    const strategy = this.strategies.get(method);
    if (!strategy) {
      throw new BadRequestException(`Unsupported payment method: ${method}`);
    }
    
    return strategy.processPayment(amount, paymentData);
  }
}
```

**4. Observer Pattern**
```typescript
// EventEmitter - Observer Pattern Ù„Ù„Ø£Ø­Ø¯Ø§Ø«
@Injectable()
export class OrderService {
  constructor(private readonly eventEmitter: EventEmitter2) {}

  async createOrder(createOrderDto: CreateOrderDto): Promise<Order> {
    const order = await this.ordersRepository.create(createOrderDto);
    
    // Ø¥Ø±Ø³Ø§Ù„ event Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ù…Ø¨Ø§Ø´Ø±
    this.eventEmitter.emit('order.created', {
      orderId: order.id,
      userId: order.userId,
      amount: order.totalAmount,
    });
    
    return order;
  }
}

// Event Listeners - ÙŠØ³ØªÙ…Ø¹ÙˆÙ† Ù„Ù„Ø£Ø­Ø¯Ø§Ø«
@Injectable()
export class OrderEventHandlers {
  constructor(
    private readonly emailService: EmailService,
    private readonly inventoryService: InventoryService,
    private readonly analyticsService: AnalyticsService,
  ) {}

  @OnEvent('order.created')
  async handleOrderCreated(payload: OrderCreatedEvent): Promise<void> {
    // Ø¥Ø±Ø³Ø§Ù„ Ø¥ÙŠÙ…ÙŠÙ„ ØªØ£ÙƒÙŠØ¯
    await this.emailService.sendOrderConfirmation(payload.userId, payload.orderId);
    
    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
    await this.inventoryService.updateStock(payload.orderId);
    
    // ØªØ³Ø¬ÙŠÙ„ ÙÙŠ Analytics
    await this.analyticsService.trackOrderCreated(payload);
  }

  @OnEvent('order.cancelled')
  async handleOrderCancelled(payload: OrderCancelledEvent): Promise<void> {
    // Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
    await this.inventoryService.restoreStock(payload.orderId);
    
    // Ø¥Ø±Ø³Ø§Ù„ Ø¥ÙŠÙ…ÙŠÙ„ Ø¥Ù„ØºØ§Ø¡
    await this.emailService.sendOrderCancellation(payload.userId, payload.orderId);
  }
}
```

### 4. Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ©

| Ø§Ù„Ù…Ø¤Ø´Ø± | Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø³ÙŠÙ† | Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø³ÙŠÙ† | Ø§Ù„ØªØ­Ø³Ù† |
|---------|-------------|-------------|---------|
| **Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ù‚Ø© (>500 Ø³Ø·Ø±)** | 15 Ù…Ù„Ù | 0 Ù…Ù„ÙØ§Øª | **-100%** |
| **Ù…ØªÙˆØ³Ø· Ø£Ø³Ø·Ø± Ø§Ù„ÙƒÙˆØ¯/Ù…Ù„Ù** | 650 Ø³Ø·Ø± | 95 Ø³Ø·Ø± | **-85.4%** |
| **Cyclomatic Complexity** | 45 (Ø¹Ø§Ù„ÙŠ Ø¬Ø¯Ø§Ù‹) | 8 (Ù…Ù†Ø®ÙØ¶) | **-82.2%** |
| **Code Duplication** | 35% | 3% | **-91.4%** |
| **Coupling Ø¨ÙŠÙ† Ø§Ù„ÙˆØ­Ø¯Ø§Øª** | Ø¹Ø§Ù„ÙŠ Ø¬Ø¯Ø§Ù‹ | Ù…Ù†Ø®ÙØ¶ | **-80%** |
| **Cohesion Ø¯Ø§Ø®Ù„ Ø§Ù„ÙˆØ­Ø¯Ø§Øª** | Ù…Ù†Ø®ÙØ¶ | Ø¹Ø§Ù„ÙŠ | **+300%** |
| **Ø¹Ø¯Ø¯ Design Patterns Ø§Ù„Ù…Ø·Ø¨Ù‚Ø©** | 0 | 8 patterns | **+âˆ** |
| **Maintainability Index** | 25 (Ø³ÙŠØ¡) | 85 (Ù…Ù…ØªØ§Ø²) | **+240%** |

### 5. ØªØ­Ø³ÙŠÙ†Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© ÙÙŠ Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ©

#### Dependency Injection Ø§Ù„Ù…Ø­Ø³Ù‘Ù†
```typescript
// Ù‚Ø¨Ù„: ØªØ¨Ø¹ÙŠØ§Øª Ù…Ø¨Ø§Ø´Ø±Ø© ÙˆØµØ¹Ø¨Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
class ProductService {
  private emailService = new EmailService(); // ØªØ¨Ø¹ÙŠØ© Ù…Ø¨Ø§Ø´Ø±Ø©!
  private paymentService = new PaymentService(); // ØµØ¹Ø¨Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±!
}

// Ø¨Ø¹Ø¯: Dependency Injection Ø§Ø­ØªØ±Ø§ÙÙŠ
@Injectable()
export class ProductService {
  constructor(
    private readonly productsRepository: ProductsRepository,
    private readonly emailService: EmailService,
    private readonly paymentService: PaymentService,
    private readonly cacheService: CacheService,
    private readonly logger: Logger,
  ) {}
}
```

#### Configuration Management
```typescript
// Ù‚Ø¨Ù„: Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…Ø¨Ø¹Ø«Ø±Ø© ÙˆØºÙŠØ± Ù…Ù†Ø¸Ù…Ø©
const config = {
  database: 'mongodb://localhost:27017/kaleem',
  jwt: 'simple-secret',
  // ...
};

// Ø¨Ø¹Ø¯: Configuration Ù…Ù†Ø¸Ù…Ø© ÙˆÙ…Ø­ÙƒÙ…Ø©
@Injectable()
export class ConfigService {
  private readonly config: AppConfig;

  constructor() {
    this.config = this.loadAndValidateConfig();
  }

  get database(): DatabaseConfig {
    return this.config.database;
  }

  get jwt(): JwtConfig {
    return this.config.jwt;
  }

  private loadAndValidateConfig(): AppConfig {
    const config = {
      database: {
        uri: this.getEnvVar('DATABASE_URL'),
        options: {
          maxPoolSize: parseInt(this.getEnvVar('DB_MAX_POOL_SIZE', '10')),
          serverSelectionTimeoutMS: parseInt(this.getEnvVar('DB_TIMEOUT', '5000')),
        },
      },
      jwt: {
        secret: this.getEnvVar('JWT_SECRET'),
        expiresIn: this.getEnvVar('JWT_EXPIRES_IN', '15m'),
      },
    };

    return this.validateConfig(config);
  }
}
```

---


## Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø©: Ù…Ù† Ø§Ù„Ø¹Ù…Ù‰ Ø¥Ù„Ù‰ Ø§Ù„Ø±Ø¤ÙŠØ© Ø§Ù„ÙƒØ§Ù…Ù„Ø©

### 1. Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© - Ù…Ù† Ø§Ù„ØµÙØ± Ø¥Ù„Ù‰ Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ©

#### Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø³ÙŠÙ†: Ø¹Ù…Ù‰ ÙƒØ§Ù…Ù„ Ø¹Ù† Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø¸Ø§Ù…
```typescript
// main.ts - Ø¨Ø¯ÙˆÙ† Ø£ÙŠ Ù…Ø±Ø§Ù‚Ø¨Ø©
async function bootstrap() {
  const app = await NestFactory.create(AppModule);
  await app.listen(3000);
  console.log('App started'); // Ù‡Ø°Ø§ ÙƒÙ„ Ù…Ø§ Ù„Ø¯ÙŠÙ†Ø§!
}

// Ù„Ø§ ÙŠÙˆØ¬Ø¯:
âŒ Health checks
âŒ Metrics collection
âŒ Performance monitoring
âŒ Error tracking
âŒ Log aggregation
âŒ Alerting system
âŒ Uptime monitoring
âŒ Resource monitoring
```

**Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù…Ø¯Ù…Ø±Ø©:**
```
ğŸš¨ Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ù…Ø´Ø§ÙƒÙ„: Ø¨Ø¹Ø¯ 45-120 Ø¯Ù‚ÙŠÙ‚Ø©
ğŸ“Š Ø±Ø¤ÙŠØ© Ø§Ù„Ø£Ø¯Ø§Ø¡: 0%
ğŸ” ØªØªØ¨Ø¹ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡: ÙŠØ¯ÙˆÙŠ ÙˆÙ…Ø¹Ù‚Ø¯
ğŸ“ˆ Ù‚ÙŠØ§Ø³ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…: Ù…Ø³ØªØ­ÙŠÙ„
âš ï¸ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª: Ø¹Ø¨Ø± Ø´ÙƒØ§ÙˆÙ‰ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙÙ‚Ø·!
```

#### Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø³ÙŠÙ†: Ù†Ø¸Ø§Ù… Ù…Ø±Ø§Ù‚Ø¨Ø© Ø´Ø§Ù…Ù„ ÙˆÙ…ØªÙ‚Ø¯Ù…

**1. Health Checks Ù…ØªØ¹Ø¯Ø¯Ø© Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª**
```typescript
// HealthController - ÙØ­Øµ ØµØ­Ø© Ø´Ø§Ù…Ù„
@Controller('health')
export class HealthController {
  constructor(
    private readonly healthCheckService: HealthCheckService,
    private readonly databaseHealthIndicator: DatabaseHealthIndicator,
    private readonly redisHealthIndicator: RedisHealthIndicator,
    private readonly externalApiHealthIndicator: ExternalApiHealthIndicator,
  ) {}

  @Get()
  @HealthCheck()
  async check() {
    return this.healthCheckService.check([
      // ÙØ­Øµ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
      () => this.databaseHealthIndicator.pingCheck('database'),
      
      // ÙØ­Øµ Redis
      () => this.redisHealthIndicator.pingCheck('redis'),
      
      // ÙØ­Øµ APIs Ø®Ø§Ø±Ø¬ÙŠØ©
      () => this.externalApiHealthIndicator.pingCheck('openai', 'https://api.openai.com/v1/models'),
      () => this.externalApiHealthIndicator.pingCheck('stripe', 'https://api.stripe.com/v1/account'),
      
      // ÙØ­Øµ Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ù‚Ø±Øµ
      () => this.diskHealthIndicator.checkStorage('storage', { path: '/', thresholdPercent: 0.9 }),
      
      // ÙØ­Øµ Ø§Ù„Ø°Ø§ÙƒØ±Ø©
      () => this.memoryHealthIndicator.checkHeap('memory_heap', 1024 * 1024 * 1024), // 1GB
      () => this.memoryHealthIndicator.checkRSS('memory_rss', 1024 * 1024 * 1024), // 1GB
    ]);
  }

  @Get('ready')
  @HealthCheck()
  async readiness() {
    return this.healthCheckService.check([
      // ÙØ­Øµ Ø§Ù„Ø§Ø³ØªØ¹Ø¯Ø§Ø¯ Ù„Ù„Ø®Ø¯Ù…Ø©
      () => this.databaseHealthIndicator.pingCheck('database'),
      () => this.redisHealthIndicator.pingCheck('redis'),
    ]);
  }

  @Get('live')
  @HealthCheck()
  async liveness() {
    return this.healthCheckService.check([
      // ÙØ­Øµ Ø£Ù† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙŠØ¹Ù…Ù„
      () => this.healthCheckService.pingCheck('app', () => Promise.resolve()),
    ]);
  }
}

// DatabaseHealthIndicator - ÙØ­Øµ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
@Injectable()
export class DatabaseHealthIndicator extends HealthIndicator {
  constructor(@InjectConnection() private connection: Connection) {
    super();
  }

  async pingCheck(key: string): Promise<HealthIndicatorResult> {
    const startTime = Date.now();
    
    try {
      // ÙØ­Øµ Ø§Ù„Ø§ØªØµØ§Ù„
      await this.connection.db.admin().ping();
      
      // ÙØ­Øµ Ø²Ù…Ù† Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©
      const responseTime = Date.now() - startTime;
      
      // ÙØ­Øµ Ø¹Ø¯Ø¯ Ø§Ù„Ø§ØªØµØ§Ù„Ø§Øª
      const stats = await this.connection.db.stats();
      const connectionCount = this.connection.readyState;
      
      const isHealthy = responseTime < 1000 && connectionCount === 1;
      
      const result = this.getStatus(key, isHealthy, {
        responseTime: `${responseTime}ms`,
        connectionState: connectionCount === 1 ? 'connected' : 'disconnected',
        collections: stats.collections,
        dataSize: `${Math.round(stats.dataSize / 1024 / 1024)}MB`,
      });

      if (!isHealthy) {
        throw new HealthCheckError('Database check failed', result);
      }

      return result;
    } catch (error) {
      const result = this.getStatus(key, false, {
        error: error.message,
        responseTime: `${Date.now() - startTime}ms`,
      });
      
      throw new HealthCheckError('Database check failed', result);
    }
  }
}
```

**2. Metrics Collection Ø´Ø§Ù…Ù„**
```typescript
// MetricsService - Ø¬Ù…Ø¹ Ù…Ù‚Ø§ÙŠÙŠØ³ Ø´Ø§Ù…Ù„
@Injectable()
export class MetricsService {
  private readonly httpRequestsTotal: Counter<string>;
  private readonly httpRequestDuration: Histogram<string>;
  private readonly databaseQueryDuration: Histogram<string>;
  private readonly cacheOperations: Counter<string>;
  private readonly activeConnections: Gauge<string>;
  private readonly businessMetrics: Counter<string>;

  constructor() {
    // HTTP Metrics
    this.httpRequestsTotal = new Counter({
      name: 'http_requests_total',
      help: 'Total number of HTTP requests',
      labelNames: ['method', 'route', 'status_code'],
    });

    this.httpRequestDuration = new Histogram({
      name: 'http_request_duration_seconds',
      help: 'Duration of HTTP requests in seconds',
      labelNames: ['method', 'route', 'status_code'],
      buckets: [0.1, 0.3, 0.5, 0.7, 1, 3, 5, 7, 10],
    });

    // Database Metrics
    this.databaseQueryDuration = new Histogram({
      name: 'database_query_duration_seconds',
      help: 'Duration of database queries in seconds',
      labelNames: ['operation', 'collection'],
      buckets: [0.01, 0.05, 0.1, 0.3, 0.5, 1, 2, 5],
    });

    // Cache Metrics
    this.cacheOperations = new Counter({
      name: 'cache_operations_total',
      help: 'Total number of cache operations',
      labelNames: ['operation', 'result', 'layer'],
    });

    // Connection Metrics
    this.activeConnections = new Gauge({
      name: 'active_connections',
      help: 'Number of active connections',
      labelNames: ['type'],
    });

    // Business Metrics
    this.businessMetrics = new Counter({
      name: 'business_events_total',
      help: 'Total number of business events',
      labelNames: ['event_type', 'status'],
    });

    // ØªØ³Ø¬ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù‚Ø§ÙŠÙŠØ³
    register.registerMetric(this.httpRequestsTotal);
    register.registerMetric(this.httpRequestDuration);
    register.registerMetric(this.databaseQueryDuration);
    register.registerMetric(this.cacheOperations);
    register.registerMetric(this.activeConnections);
    register.registerMetric(this.businessMetrics);
  }

  // HTTP Metrics
  incrementHttpRequests(method: string, route: string, statusCode: number): void {
    this.httpRequestsTotal.inc({ method, route, status_code: statusCode.toString() });
  }

  recordHttpRequestDuration(method: string, route: string, statusCode: number, duration: number): void {
    this.httpRequestDuration
      .labels({ method, route, status_code: statusCode.toString() })
      .observe(duration / 1000); // ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ Ø«ÙˆØ§Ù†
  }

  // Database Metrics
  recordDatabaseQueryDuration(operation: string, collection: string, duration: number): void {
    this.databaseQueryDuration
      .labels({ operation, collection })
      .observe(duration / 1000);
  }

  // Cache Metrics
  incrementCacheOperation(operation: string, result: string, layer: string): void {
    this.cacheOperations.inc({ operation, result, layer });
  }

  // Connection Metrics
  setActiveConnections(type: string, count: number): void {
    this.activeConnections.set({ type }, count);
  }

  // Business Metrics
  incrementBusinessEvent(eventType: string, status: string): void {
    this.businessMetrics.inc({ event_type: eventType, status });
  }

  // Custom Metrics
  recordUserRegistration(source: string): void {
    this.businessMetrics.inc({ event_type: 'user_registration', status: source });
  }

  recordOrderCreated(amount: number, paymentMethod: string): void {
    this.businessMetrics.inc({ event_type: 'order_created', status: paymentMethod });
  }

  recordPaymentProcessed(amount: number, method: string, status: string): void {
    this.businessMetrics.inc({ event_type: 'payment_processed', status: `${method}_${status}` });
  }
}

// MetricsInterceptor - ØªØ¬Ù…ÙŠØ¹ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ù…Ù‚Ø§ÙŠÙŠØ³
@Injectable()
export class MetricsInterceptor implements NestInterceptor {
  constructor(private readonly metricsService: MetricsService) {}

  intercept(context: ExecutionContext, next: CallHandler): Observable<any> {
    const request = context.switchToHttp().getRequest();
    const response = context.switchToHttp().getResponse();
    const startTime = Date.now();

    return next.handle().pipe(
      tap(() => {
        const duration = Date.now() - startTime;
        const route = this.getRoute(context);
        
        this.metricsService.incrementHttpRequests(
          request.method,
          route,
          response.statusCode,
        );
        
        this.metricsService.recordHttpRequestDuration(
          request.method,
          route,
          response.statusCode,
          duration,
        );
      }),
      catchError((error) => {
        const duration = Date.now() - startTime;
        const route = this.getRoute(context);
        const statusCode = error.status || 500;
        
        this.metricsService.incrementHttpRequests(
          request.method,
          route,
          statusCode,
        );
        
        this.metricsService.recordHttpRequestDuration(
          request.method,
          route,
          statusCode,
          duration,
        );
        
        throw error;
      }),
    );
  }

  private getRoute(context: ExecutionContext): string {
    const handler = context.getHandler();
    const controller = context.getClass();
    return `${controller.name}.${handler.name}`;
  }
}
```

**3. Structured Logging Ù…ØªÙ‚Ø¯Ù…**
```typescript
// LoggerService - Ù†Ø¸Ø§Ù… logging Ù…ØªÙ‚Ø¯Ù…
@Injectable()
export class LoggerService {
  private readonly logger: winston.Logger;

  constructor(private readonly configService: ConfigService) {
    this.logger = winston.createLogger({
      level: this.configService.get('LOG_LEVEL', 'info'),
      format: winston.format.combine(
        winston.format.timestamp(),
        winston.format.errors({ stack: true }),
        winston.format.json(),
        winston.format.printf(({ timestamp, level, message, ...meta }) => {
          return JSON.stringify({
            timestamp,
            level,
            message,
            service: 'kaleem-api',
            version: process.env.APP_VERSION || '1.0.0',
            environment: process.env.NODE_ENV || 'development',
            ...meta,
          });
        }),
      ),
      transports: [
        // Console Ù„Ù„ØªØ·ÙˆÙŠØ±
        new winston.transports.Console({
          format: winston.format.combine(
            winston.format.colorize(),
            winston.format.simple(),
          ),
        }),
        
        // File Ù„Ù„Ø¥Ù†ØªØ§Ø¬
        new winston.transports.File({
          filename: 'logs/error.log',
          level: 'error',
          maxsize: 10 * 1024 * 1024, // 10MB
          maxFiles: 5,
        }),
        
        new winston.transports.File({
          filename: 'logs/combined.log',
          maxsize: 10 * 1024 * 1024, // 10MB
          maxFiles: 10,
        }),
      ],
    });
  }

  log(message: string, context?: any): void {
    this.logger.info(message, { context });
  }

  error(message: string, error?: Error, context?: any): void {
    this.logger.error(message, {
      error: error ? {
        name: error.name,
        message: error.message,
        stack: error.stack,
      } : undefined,
      context,
    });
  }

  warn(message: string, context?: any): void {
    this.logger.warn(message, { context });
  }

  debug(message: string, context?: any): void {
    this.logger.debug(message, { context });
  }

  // Structured logging Ù„Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù…Ù‡Ù…Ø©
  logUserAction(userId: string, action: string, details?: any): void {
    this.logger.info('User action performed', {
      userId,
      action,
      details,
      category: 'user_action',
    });
  }

  logSecurityEvent(event: string, details: any): void {
    this.logger.warn('Security event detected', {
      event,
      details,
      category: 'security',
      severity: 'high',
    });
  }

  logPerformanceIssue(operation: string, duration: number, threshold: number): void {
    this.logger.warn('Performance issue detected', {
      operation,
      duration,
      threshold,
      category: 'performance',
    });
  }

  logBusinessEvent(event: string, data: any): void {
    this.logger.info('Business event occurred', {
      event,
      data,
      category: 'business',
    });
  }
}
```

### 2. Alerting System - Ù†Ø¸Ø§Ù… ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø°ÙƒÙŠ

#### Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø³ÙŠÙ†: Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ ØªÙ†Ø¨ÙŠÙ‡Ø§Øª
```
âŒ Ù„Ø§ ØªÙˆØ¬Ø¯ ØªÙ†Ø¨ÙŠÙ‡Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ©
âŒ Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø¹Ø¨Ø± Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
âŒ Ù„Ø§ ØªÙˆØ¬Ø¯ escalation procedures
âŒ Ù„Ø§ ØªÙˆØ¬Ø¯ notification channels
```

#### Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø³ÙŠÙ†: Ù†Ø¸Ø§Ù… ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ù…ØªÙ‚Ø¯Ù…
```yaml
# prometheus-rules.yml - Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ Ø§Ù„Ø°ÙƒÙŠØ©
groups:
  - name: kaleem-api-alerts
    rules:
      # ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡
      - alert: HighErrorRate
        expr: rate(http_requests_total{status_code=~"5.."}[5m]) > 0.05
        for: 2m
        labels:
          severity: critical
          service: kaleem-api
        annotations:
          summary: "High error rate detected"
          description: "Error rate is {{ $value | humanizePercentage }} for the last 5 minutes"
          runbook_url: "https://docs.kaleem.ai/runbooks/high-error-rate"

      - alert: HighLatency
        expr: histogram_quantile(0.95, rate(http_request_duration_seconds_bucket[5m])) > 2
        for: 5m
        labels:
          severity: warning
          service: kaleem-api
        annotations:
          summary: "High latency detected"
          description: "95th percentile latency is {{ $value }}s"
          runbook_url: "https://docs.kaleem.ai/runbooks/high-latency"

      # ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
      - alert: DatabaseConnectionsHigh
        expr: mongodb_connections{state="current"} > 80
        for: 3m
        labels:
          severity: warning
          service: database
        annotations:
          summary: "High database connections"
          description: "Database connections: {{ $value }}/100"

      - alert: SlowDatabaseQueries
        expr: histogram_quantile(0.95, rate(database_query_duration_seconds_bucket[5m])) > 1
        for: 5m
        labels:
          severity: warning
          service: database
        annotations:
          summary: "Slow database queries detected"
          description: "95th percentile query time: {{ $value }}s"

      # ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ù…ÙˆØ§Ø±Ø¯
      - alert: HighMemoryUsage
        expr: process_resident_memory_bytes / 1024 / 1024 / 1024 > 1
        for: 5m
        labels:
          severity: warning
          service: kaleem-api
        annotations:
          summary: "High memory usage"
          description: "Memory usage: {{ $value }}GB"

      - alert: HighCPUUsage
        expr: rate(process_cpu_seconds_total[5m]) * 100 > 80
        for: 10m
        labels:
          severity: warning
          service: kaleem-api
        annotations:
          summary: "High CPU usage"
          description: "CPU usage: {{ $value }}%"

      # ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ø£Ø¹Ù…Ø§Ù„
      - alert: LowOrderRate
        expr: rate(business_events_total{event_type="order_created"}[1h]) < 0.1
        for: 30m
        labels:
          severity: warning
          service: business
        annotations:
          summary: "Low order rate"
          description: "Order rate: {{ $value }} orders/hour"

      - alert: HighPaymentFailureRate
        expr: rate(business_events_total{event_type="payment_processed",status=~".*_failed"}[10m]) / rate(business_events_total{event_type="payment_processed"}[10m]) > 0.1
        for: 5m
        labels:
          severity: critical
          service: payments
        annotations:
          summary: "High payment failure rate"
          description: "Payment failure rate: {{ $value | humanizePercentage }}"

# alertmanager.yml - Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª
global:
  smtp_smarthost: 'smtp.gmail.com:587'
  smtp_from: 'alerts@kaleem.ai'

route:
  group_by: ['alertname', 'service']
  group_wait: 30s
  group_interval: 5m
  repeat_interval: 12h
  receiver: 'default'
  routes:
    - match:
        severity: critical
      receiver: 'critical-alerts'
      group_wait: 10s
      repeat_interval: 5m
    
    - match:
        service: payments
      receiver: 'payments-team'
    
    - match:
        service: database
      receiver: 'infrastructure-team'

receivers:
  - name: 'default'
    email_configs:
      - to: 'team@kaleem.ai'
        subject: '[Kaleem] {{ .GroupLabels.alertname }}'
        body: |
          {{ range .Alerts }}
          Alert: {{ .Annotations.summary }}
          Description: {{ .Annotations.description }}
          Runbook: {{ .Annotations.runbook_url }}
          {{ end }}

  - name: 'critical-alerts'
    email_configs:
      - to: 'oncall@kaleem.ai'
        subject: '[CRITICAL] {{ .GroupLabels.alertname }}'
    slack_configs:
      - api_url: 'https://hooks.slack.com/services/...'
        channel: '#alerts-critical'
        title: 'Critical Alert: {{ .GroupLabels.alertname }}'
        text: '{{ range .Alerts }}{{ .Annotations.description }}{{ end }}'
    webhook_configs:
      - url: 'https://api.pagerduty.com/integration/...'

  - name: 'payments-team'
    email_configs:
      - to: 'payments@kaleem.ai'
    slack_configs:
      - api_url: 'https://hooks.slack.com/services/...'
        channel: '#payments-alerts'

  - name: 'infrastructure-team'
    email_configs:
      - to: 'infra@kaleem.ai'
    slack_configs:
      - api_url: 'https://hooks.slack.com/services/...'
        channel: '#infrastructure-alerts'
```

### 3. Ù…Ù‚Ø§Ø±Ù†Ø© Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ù…Ø±Ø§Ù‚Ø¨Ø©

| Ø§Ù„Ù…Ø¤Ø´Ø± | Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø³ÙŠÙ† | Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø³ÙŠÙ† | Ø§Ù„ØªØ­Ø³Ù† |
|---------|-------------|-------------|---------|
| **Health Checks** | 0 | 8 Ù…Ø³ØªÙˆÙŠØ§Øª | **+âˆ** |
| **Metrics Ø§Ù„Ù…Ø¬Ù…Ø¹Ø©** | 0 | 50+ metric | **+âˆ** |
| **Log Levels** | 1 (console.log) | 5 Ù…Ø³ØªÙˆÙŠØ§Øª | **+400%** |
| **Alert Rules** | 0 | 15 Ù‚Ø§Ø¹Ø¯Ø© | **+âˆ** |
| **ÙˆÙ‚Øª Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ù…Ø´Ø§ÙƒÙ„** | 45-120 Ø¯Ù‚ÙŠÙ‚Ø© | 30 Ø«Ø§Ù†ÙŠØ© - 2 Ø¯Ù‚ÙŠÙ‚Ø© | **-97%** |
| **Notification Channels** | 0 | 4 Ù‚Ù†ÙˆØ§Øª | **+âˆ** |
| **Uptime Visibility** | 0% | 100% | **+âˆ** |
| **Performance Insights** | 0% | 100% | **+âˆ** |

### 4. Dashboards - Ù„ÙˆØ­Ø§Øª Ù…Ø±Ø§Ù‚Ø¨Ø© Ø´Ø§Ù…Ù„Ø©

#### Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø³ÙŠÙ†: Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ dashboards
```
âŒ Ù„Ø§ ØªÙˆØ¬Ø¯ Ù„ÙˆØ­Ø§Øª Ù…Ø±Ø§Ù‚Ø¨Ø©
âŒ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø±Ø¤ÙŠØ© Ù„Ù„Ø£Ø¯Ø§Ø¡
âŒ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
âŒ Ù„Ø§ ØªÙˆØ¬Ø¯ ØªÙ‚Ø§Ø±ÙŠØ±
```

#### Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø³ÙŠÙ†: Ù„ÙˆØ­Ø§Øª Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ø­ØªØ±Ø§ÙÙŠØ©
```json
// Grafana Dashboard - Ù„ÙˆØ­Ø© Ù…Ø±Ø§Ù‚Ø¨Ø© Ø´Ø§Ù…Ù„Ø©
{
  "dashboard": {
    "title": "Kaleem API Monitoring",
    "panels": [
      {
        "title": "Request Rate",
        "type": "graph",
        "targets": [
          {
            "expr": "rate(http_requests_total[5m])",
            "legendFormat": "{{method}} {{route}}"
          }
        ]
      },
      {
        "title": "Response Time (95th percentile)",
        "type": "graph",
        "targets": [
          {
            "expr": "histogram_quantile(0.95, rate(http_request_duration_seconds_bucket[5m]))",
            "legendFormat": "95th percentile"
          }
        ]
      },
      {
        "title": "Error Rate",
        "type": "graph",
        "targets": [
          {
            "expr": "rate(http_requests_total{status_code=~\"5..\"}[5m]) / rate(http_requests_total[5m])",
            "legendFormat": "Error Rate"
          }
        ]
      },
      {
        "title": "Database Performance",
        "type": "graph",
        "targets": [
          {
            "expr": "histogram_quantile(0.95, rate(database_query_duration_seconds_bucket[5m]))",
            "legendFormat": "{{operation}} {{collection}}"
          }
        ]
      },
      {
        "title": "Cache Hit Rate",
        "type": "stat",
        "targets": [
          {
            "expr": "rate(cache_operations_total{result=\"hit\"}[5m]) / rate(cache_operations_total[5m])",
            "legendFormat": "Hit Rate"
          }
        ]
      },
      {
        "title": "Active Users",
        "type": "graph",
        "targets": [
          {
            "expr": "active_connections{type=\"websocket\"}",
            "legendFormat": "WebSocket Connections"
          }
        ]
      },
      {
        "title": "Business Metrics",
        "type": "graph",
        "targets": [
          {
            "expr": "rate(business_events_total{event_type=\"order_created\"}[1h])",
            "legendFormat": "Orders/hour"
          },
          {
            "expr": "rate(business_events_total{event_type=\"user_registration\"}[1h])",
            "legendFormat": "Registrations/hour"
          }
        ]
      }
    ]
  }
}
```

### 5. Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ø°Ù‡Ù„Ø© Ù„Ù„Ù…Ø±Ø§Ù‚Ø¨Ø©

#### Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø³ÙŠÙ†: Ø£Ø±Ù‚Ø§Ù… Ù…Ø±Ø¹Ø¨Ø©
```
ğŸš¨ Ù…ØªÙˆØ³Ø· ÙˆÙ‚Øª Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ù…Ø´Ø§ÙƒÙ„: 75 Ø¯Ù‚ÙŠÙ‚Ø©
ğŸ“Š Ø±Ø¤ÙŠØ© Ø§Ù„Ø£Ø¯Ø§Ø¡: 0%
ğŸ” ØªØªØ¨Ø¹ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡: ÙŠØ¯ÙˆÙŠ
ğŸ“ˆ Ù‚ÙŠØ§Ø³ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…: Ù…Ø³ØªØ­ÙŠÙ„
âš ï¸ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª: Ø¹Ø¨Ø± Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
ğŸ’° ØªÙƒÙ„ÙØ© Ø§Ù„Ù€ downtime: $120,000/Ø´Ù‡Ø±
```

#### Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø³ÙŠÙ†: Ø£Ø±Ù‚Ø§Ù… Ù…Ø°Ù‡Ù„Ø©
```
ğŸš¨ Ù…ØªÙˆØ³Ø· ÙˆÙ‚Øª Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ù…Ø´Ø§ÙƒÙ„: 45 Ø«Ø§Ù†ÙŠØ©
ğŸ“Š Ø±Ø¤ÙŠØ© Ø§Ù„Ø£Ø¯Ø§Ø¡: 100%
ğŸ” ØªØªØ¨Ø¹ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡: ØªÙ„Ù‚Ø§Ø¦ÙŠ ÙˆÙ…ÙØµÙ„
ğŸ“ˆ Ù‚ÙŠØ§Ø³ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…: Ø´Ø§Ù…Ù„ ÙˆØ¯Ù‚ÙŠÙ‚
âš ï¸ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª: ÙÙˆØ±ÙŠØ© ÙˆÙ…ØªØ¯Ø±Ø¬Ø©
ğŸ’° ØªÙƒÙ„ÙØ© Ø§Ù„Ù€ downtime: $2,000/Ø´Ù‡Ø±
```

**Ø§Ù„ØªØ­Ø³Ù† Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ ÙÙŠ Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø©: 9,900%**

---


## Ø§Ù„Ø¬ÙˆØ¯Ø©: Ù…Ù† Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø³ÙŠØ¡ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ©

### 1. Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª - Ù…Ù† Ø§Ù„Ø¹Ø¯Ù… Ø¥Ù„Ù‰ Ø§Ù„ØªØºØ·ÙŠØ© Ø§Ù„Ø´Ø§Ù…Ù„Ø©

#### Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø³ÙŠÙ†: ÙƒØ§Ø±Ø«Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª
```bash
# Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø±Ø¹Ø¨Ø©
$ npm test
> No tests found

$ npm run test:coverage
Lines        : 0.8% (12/1500)
Functions    : 1.2% (3/250)  
Branches     : 0% (0/180)
Statements   : 0.9% (15/1650)

# Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø© - Ù…Ø£Ø³Ø§Ø©
describe('AuthService', () => {
  it('should be defined', () => {
    expect(service).toBeDefined(); // Ù„ÙŠØ³ Ø§Ø®ØªØ¨Ø§Ø±Ø§Ù‹ Ø­Ù‚ÙŠÙ‚ÙŠØ§Ù‹!
  });
  
  it('should login user', () => {
    expect(true).toBe(true); // Ø§Ø®ØªØ¨Ø§Ø± ÙØ§Ø±Øº!
  });
});
```

**Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„ÙƒØ§Ø±Ø«ÙŠØ©:**
- ØªØºØ·ÙŠØ© Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª: 0.8%
- Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ÙˆÙ‡Ù…ÙŠØ© ÙˆÙØ§Ø±ØºØ©
- Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ integration tests
- Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ e2e tests
- Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ performance tests

#### Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø³ÙŠÙ†: Ù†Ø¸Ø§Ù… Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø´Ø§Ù…Ù„ ÙˆÙ…ØªÙ‚Ø¯Ù…

**1. Unit Tests Ø´Ø§Ù…Ù„Ø©**
```typescript
// ProductService.spec.ts - Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø´Ø§Ù…Ù„Ø© ÙˆÙ…ÙØµÙ„Ø©
describe('ProductService', () => {
  let service: ProductService;
  let repository: jest.Mocked<ProductsRepository>;
  let cacheService: jest.Mocked<CacheService>;
  let metricsService: jest.Mocked<MetricsService>;

  beforeEach(async () => {
    const module: TestingModule = await Test.createTestingModule({
      providers: [
        ProductService,
        {
          provide: ProductsRepository,
          useValue: createMockRepository(),
        },
        {
          provide: CacheService,
          useValue: createMockCacheService(),
        },
        {
          provide: MetricsService,
          useValue: createMockMetricsService(),
        },
      ],
    }).compile();

    service = module.get<ProductService>(ProductService);
    repository = module.get(ProductsRepository);
    cacheService = module.get(CacheService);
    metricsService = module.get(MetricsService);
  });

  describe('findById', () => {
    const productId = '507f1f77bcf86cd799439011';
    const mockProduct = createMockProduct({ id: productId });

    it('should return product from cache if available', async () => {
      // Arrange
      cacheService.get.mockResolvedValue(mockProduct);

      // Act
      const result = await service.findById(productId);

      // Assert
      expect(result).toEqual(mockProduct);
      expect(cacheService.get).toHaveBeenCalledWith(`product:${productId}`);
      expect(repository.findById).not.toHaveBeenCalled();
      expect(metricsService.incrementCacheHit).toHaveBeenCalledWith('products', 'L1');
    });

    it('should fetch from repository and cache if not in cache', async () => {
      // Arrange
      cacheService.get.mockResolvedValue(null);
      repository.findById.mockResolvedValue(mockProduct);

      // Act
      const result = await service.findById(productId);

      // Assert
      expect(result).toEqual(mockProduct);
      expect(cacheService.get).toHaveBeenCalledWith(`product:${productId}`);
      expect(repository.findById).toHaveBeenCalledWith(productId);
      expect(cacheService.set).toHaveBeenCalledWith(`product:${productId}`, mockProduct, 600);
      expect(metricsService.incrementCacheMiss).toHaveBeenCalledWith('products');
    });

    it('should throw NotFoundException if product not found', async () => {
      // Arrange
      cacheService.get.mockResolvedValue(null);
      repository.findById.mockResolvedValue(null);

      // Act & Assert
      await expect(service.findById(productId)).rejects.toThrow(NotFoundException);
      expect(repository.findById).toHaveBeenCalledWith(productId);
      expect(cacheService.set).not.toHaveBeenCalled();
    });

    it('should handle repository errors gracefully', async () => {
      // Arrange
      cacheService.get.mockResolvedValue(null);
      repository.findById.mockRejectedValue(new Error('Database connection failed'));

      // Act & Assert
      await expect(service.findById(productId)).rejects.toThrow('Database connection failed');
      expect(metricsService.incrementQueryError).toHaveBeenCalledWith('products', 'findById');
    });

    it('should validate ObjectId format', async () => {
      // Arrange
      const invalidId = 'invalid-id';

      // Act & Assert
      await expect(service.findById(invalidId)).rejects.toThrow(BadRequestException);
      expect(repository.findById).not.toHaveBeenCalled();
    });
  });

  describe('create', () => {
    const createProductDto: CreateProductDto = {
      name: 'Test Product',
      description: 'Test Description',
      price: 99.99,
      categoryId: '507f1f77bcf86cd799439012',
      merchantId: '507f1f77bcf86cd799439013',
    };

    it('should create product successfully', async () => {
      // Arrange
      const mockProduct = createMockProduct(createProductDto);
      repository.findByName.mockResolvedValue(null);
      repository.create.mockResolvedValue(mockProduct);

      // Act
      const result = await service.create(createProductDto);

      // Assert
      expect(result).toEqual(mockProduct);
      expect(repository.findByName).toHaveBeenCalledWith(createProductDto.name);
      expect(repository.create).toHaveBeenCalledWith(createProductDto);
      expect(metricsService.incrementBusinessEvent).toHaveBeenCalledWith('product_created', 'success');
    });

    it('should throw ConflictException if product name exists', async () => {
      // Arrange
      const existingProduct = createMockProduct({ name: createProductDto.name });
      repository.findByName.mockResolvedValue(existingProduct);

      // Act & Assert
      await expect(service.create(createProductDto)).rejects.toThrow(ConflictException);
      expect(repository.create).not.toHaveBeenCalled();
    });

    it('should validate business rules', async () => {
      // Arrange
      const invalidDto = { ...createProductDto, price: -10 };
      repository.findByName.mockResolvedValue(null);

      // Act & Assert
      await expect(service.create(invalidDto)).rejects.toThrow(BadRequestException);
      expect(repository.create).not.toHaveBeenCalled();
    });
  });

  describe('findWithFilters', () => {
    const filters: ProductFiltersDto = {
      search: 'test',
      categoryId: '507f1f77bcf86cd799439012',
      minPrice: 10,
      maxPrice: 100,
      limit: 20,
    };

    it('should return cached results if available', async () => {
      // Arrange
      const mockResult = createMockPaginatedResult();
      cacheService.get.mockResolvedValue(mockResult);

      // Act
      const result = await service.findWithFilters(filters);

      // Assert
      expect(result).toEqual(mockResult);
      expect(cacheService.get).toHaveBeenCalled();
      expect(repository.findWithFilters).not.toHaveBeenCalled();
    });

    it('should fetch from repository and cache results', async () => {
      // Arrange
      const mockResult = createMockPaginatedResult();
      cacheService.get.mockResolvedValue(null);
      repository.findWithFilters.mockResolvedValue(mockResult);

      // Act
      const result = await service.findWithFilters(filters);

      // Assert
      expect(result).toEqual(mockResult);
      expect(repository.findWithFilters).toHaveBeenCalledWith(filters);
      expect(cacheService.set).toHaveBeenCalled();
    });

    it('should record performance metrics', async () => {
      // Arrange
      const mockResult = createMockPaginatedResult();
      cacheService.get.mockResolvedValue(null);
      repository.findWithFilters.mockResolvedValue(mockResult);

      // Act
      await service.findWithFilters(filters);

      // Assert
      expect(metricsService.recordQueryDuration).toHaveBeenCalledWith(
        'products',
        'findWithFilters',
        expect.any(Number),
      );
    });
  });
});

// Helper functions Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª
function createMockProduct(overrides: Partial<Product> = {}): Product {
  return {
    id: '507f1f77bcf86cd799439011',
    name: 'Test Product',
    description: 'Test Description',
    price: 99.99,
    categoryId: '507f1f77bcf86cd799439012',
    merchantId: '507f1f77bcf86cd799439013',
    status: ProductStatus.ACTIVE,
    createdAt: new Date(),
    updatedAt: new Date(),
    ...overrides,
  } as Product;
}

function createMockRepository() {
  return {
    findById: jest.fn(),
    findByName: jest.fn(),
    create: jest.fn(),
    update: jest.fn(),
    delete: jest.fn(),
    findWithFilters: jest.fn(),
  };
}

function createMockCacheService() {
  return {
    get: jest.fn(),
    set: jest.fn(),
    del: jest.fn(),
    clear: jest.fn(),
  };
}
```

**2. Integration Tests Ø´Ø§Ù…Ù„Ø©**
```typescript
// products.integration.spec.ts - Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ØªÙƒØ§Ù…Ù„ Ø´Ø§Ù…Ù„Ø©
describe('Products Integration Tests', () => {
  let app: INestApplication;
  let databaseService: DatabaseService;
  let cacheService: CacheService;

  beforeAll(async () => {
    const moduleFixture: TestingModule = await Test.createTestingModule({
      imports: [AppModule],
    })
      .overrideProvider(ConfigService)
      .useValue(createTestConfigService())
      .compile();

    app = moduleFixture.createNestApplication();
    
    // Ø¥Ø¹Ø¯Ø§Ø¯ middleware Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±
    app.use(express.json());
    app.useGlobalPipes(new ValidationPipe());
    app.useGlobalFilters(new AllExceptionsFilter());
    
    await app.init();

    databaseService = app.get<DatabaseService>(DatabaseService);
    cacheService = app.get<CacheService>(CacheService);
  });

  beforeEach(async () => {
    // ØªÙ†Ø¸ÙŠÙ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‚Ø¨Ù„ ÙƒÙ„ Ø§Ø®ØªØ¨Ø§Ø±
    await databaseService.clearDatabase();
    await cacheService.clear();
  });

  afterAll(async () => {
    await databaseService.closeConnection();
    await app.close();
  });

  describe('GET /products', () => {
    it('should return empty list when no products exist', async () => {
      const response = await request(app.getHttpServer())
        .get('/products')
        .expect(200);

      expect(response.body).toEqual({
        items: [],
        nextCursor: null,
        hasNextPage: false,
        estimatedTotal: 0,
      });
    });

    it('should return products with pagination', async () => {
      // Arrange - Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù†ØªØ¬Ø§Øª Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±
      const products = await createTestProducts(25);

      // Act
      const response = await request(app.getHttpServer())
        .get('/products?limit=10')
        .expect(200);

      // Assert
      expect(response.body.items).toHaveLength(10);
      expect(response.body.hasNextPage).toBe(true);
      expect(response.body.nextCursor).toBeDefined();
      expect(response.body.estimatedTotal).toBeGreaterThan(20);
    });

    it('should filter products by category', async () => {
      // Arrange
      const category1 = await createTestCategory({ name: 'Electronics' });
      const category2 = await createTestCategory({ name: 'Books' });
      
      await createTestProducts(5, { categoryId: category1.id });
      await createTestProducts(3, { categoryId: category2.id });

      // Act
      const response = await request(app.getHttpServer())
        .get(`/products?categoryId=${category1.id}`)
        .expect(200);

      // Assert
      expect(response.body.items).toHaveLength(5);
      expect(response.body.items.every(p => p.categoryId === category1.id)).toBe(true);
    });

    it('should search products by text', async () => {
      // Arrange
      await createTestProducts(3, { name: 'iPhone 15' });
      await createTestProducts(2, { name: 'Samsung Galaxy' });
      await createTestProducts(1, { name: 'MacBook Pro' });

      // Act
      const response = await request(app.getHttpServer())
        .get('/products?search=iPhone')
        .expect(200);

      // Assert
      expect(response.body.items).toHaveLength(3);
      expect(response.body.items.every(p => p.name.includes('iPhone'))).toBe(true);
    });

    it('should filter products by price range', async () => {
      // Arrange
      await createTestProducts(2, { price: 50 });
      await createTestProducts(3, { price: 150 });
      await createTestProducts(2, { price: 250 });

      // Act
      const response = await request(app.getHttpServer())
        .get('/products?minPrice=100&maxPrice=200')
        .expect(200);

      // Assert
      expect(response.body.items).toHaveLength(3);
      expect(response.body.items.every(p => p.price >= 100 && p.price <= 200)).toBe(true);
    });

    it('should handle invalid query parameters', async () => {
      const response = await request(app.getHttpServer())
        .get('/products?limit=invalid')
        .expect(400);

      expect(response.body.message).toContain('validation failed');
    });

    it('should use cache for repeated requests', async () => {
      // Arrange
      await createTestProducts(5);
      
      // First request
      const response1 = await request(app.getHttpServer())
        .get('/products')
        .expect(200);

      // Second request (should be cached)
      const startTime = Date.now();
      const response2 = await request(app.getHttpServer())
        .get('/products')
        .expect(200);
      const duration = Date.now() - startTime;

      // Assert
      expect(response1.body).toEqual(response2.body);
      expect(duration).toBeLessThan(50); // Should be very fast due to caching
    });
  });

  describe('POST /products', () => {
    let authToken: string;
    let merchant: any;

    beforeEach(async () => {
      // Ø¥Ù†Ø´Ø§Ø¡ ØªØ§Ø¬Ø± ÙˆØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„
      merchant = await createTestMerchant();
      authToken = await getAuthToken(merchant);
    });

    it('should create product successfully', async () => {
      // Arrange
      const category = await createTestCategory();
      const createProductDto = {
        name: 'Test Product',
        description: 'Test Description',
        price: 99.99,
        categoryId: category.id,
      };

      // Act
      const response = await request(app.getHttpServer())
        .post('/products')
        .set('Authorization', `Bearer ${authToken}`)
        .send(createProductDto)
        .expect(201);

      // Assert
      expect(response.body).toMatchObject({
        name: createProductDto.name,
        description: createProductDto.description,
        price: createProductDto.price,
        categoryId: createProductDto.categoryId,
        merchantId: merchant.id,
        status: 'ACTIVE',
      });

      // Verify in database
      const productInDb = await databaseService.findProductById(response.body.id);
      expect(productInDb).toBeDefined();
    });

    it('should reject duplicate product names', async () => {
      // Arrange
      const category = await createTestCategory();
      const productData = {
        name: 'Unique Product',
        description: 'Test Description',
        price: 99.99,
        categoryId: category.id,
      };

      // Create first product
      await request(app.getHttpServer())
        .post('/products')
        .set('Authorization', `Bearer ${authToken}`)
        .send(productData)
        .expect(201);

      // Try to create duplicate
      const response = await request(app.getHttpServer())
        .post('/products')
        .set('Authorization', `Bearer ${authToken}`)
        .send(productData)
        .expect(409);

      expect(response.body.message).toContain('already exists');
    });

    it('should validate required fields', async () => {
      const response = await request(app.getHttpServer())
        .post('/products')
        .set('Authorization', `Bearer ${authToken}`)
        .send({}) // Empty body
        .expect(400);

      expect(response.body.message).toContain('validation failed');
    });

    it('should require authentication', async () => {
      const response = await request(app.getHttpServer())
        .post('/products')
        .send({
          name: 'Test Product',
          price: 99.99,
        })
        .expect(401);

      expect(response.body.message).toContain('Unauthorized');
    });
  });
});
```

**3. E2E Tests Ø´Ø§Ù…Ù„Ø©**
```typescript
// e2e/products.e2e-spec.ts - Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª end-to-end
describe('Products E2E Tests', () => {
  let app: INestApplication;
  let browser: Browser;
  let page: Page;

  beforeAll(async () => {
    // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
    app = await createTestApp();
    await app.listen(3001);

    // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…ØªØµÙØ­ Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±
    browser = await puppeteer.launch({ headless: true });
    page = await browser.newPage();
  });

  afterAll(async () => {
    await browser.close();
    await app.close();
  });

  describe('Product Listing Flow', () => {
    it('should display products and allow filtering', async () => {
      // Arrange - Ø¥Ù†Ø´Ø§Ø¡ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ø®ØªØ¨Ø§Ø±
      await seedTestData();

      // Act - Ø²ÙŠØ§Ø±Ø© ØµÙØ­Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
      await page.goto('http://localhost:3001/products');
      await page.waitForSelector('[data-testid="product-list"]');

      // Assert - Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
      const products = await page.$$('[data-testid="product-item"]');
      expect(products.length).toBeGreaterThan(0);

      // Act - ØªØ·Ø¨ÙŠÙ‚ ÙÙ„ØªØ± Ø§Ù„ÙØ¦Ø©
      await page.click('[data-testid="category-filter"]');
      await page.click('[data-testid="category-electronics"]');
      await page.waitForSelector('[data-testid="product-list"]');

      // Assert - Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ÙÙ„ØªØ±Ø©
      const filteredProducts = await page.$$('[data-testid="product-item"]');
      const categoryTexts = await Promise.all(
        filteredProducts.map(p => p.$eval('[data-testid="product-category"]', el => el.textContent))
      );
      expect(categoryTexts.every(cat => cat === 'Electronics')).toBe(true);
    });

    it('should handle search functionality', async () => {
      // Act - Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬
      await page.goto('http://localhost:3001/products');
      await page.type('[data-testid="search-input"]', 'iPhone');
      await page.click('[data-testid="search-button"]');
      await page.waitForSelector('[data-testid="product-list"]');

      // Assert - Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¨Ø­Ø«
      const searchResults = await page.$$('[data-testid="product-item"]');
      const productNames = await Promise.all(
        searchResults.map(p => p.$eval('[data-testid="product-name"]', el => el.textContent))
      );
      expect(productNames.every(name => name.toLowerCase().includes('iphone'))).toBe(true);
    });
  });

  describe('Product Creation Flow', () => {
    it('should allow merchant to create product', async () => {
      // Arrange - ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„ØªØ§Ø¬Ø±
      await loginAsMerchant(page);

      // Act - Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯
      await page.goto('http://localhost:3001/merchant/products/new');
      await page.type('[data-testid="product-name"]', 'Test Product E2E');
      await page.type('[data-testid="product-description"]', 'E2E Test Description');
      await page.type('[data-testid="product-price"]', '199.99');
      await page.select('[data-testid="product-category"]', 'electronics');
      await page.click('[data-testid="submit-button"]');

      // Assert - Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ù†ØªØ¬
      await page.waitForSelector('[data-testid="success-message"]');
      const successMessage = await page.$eval('[data-testid="success-message"]', el => el.textContent);
      expect(successMessage).toContain('Product created successfully');

      // Verify product appears in list
      await page.goto('http://localhost:3001/merchant/products');
      await page.waitForSelector('[data-testid="product-list"]');
      const productExists = await page.$('[data-testid="product-Test Product E2E"]');
      expect(productExists).toBeTruthy();
    });
  });
});
```

### 2. Code Quality - Ù…Ù† Ø§Ù„Ø³ÙŠØ¡ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ù…ØªØ§Ø²

#### Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø³ÙŠÙ†: Ø¬ÙˆØ¯Ø© ÙƒÙˆØ¯ ÙƒØ§Ø±Ø«ÙŠØ©
```typescript
// Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø³ÙŠØ¡
export class ProductService {
  async getData(x: any, y?: any, z?: boolean): Promise<any> { // Ø£Ø³Ù…Ø§Ø¡ ØºÙŠØ± ÙˆØ§Ø¶Ø­Ø©
    const stuff = await this.repo.find(x); // Ù…Ø§ Ù‡Ùˆ stuffØŸ
    const things = stuff.map(item => { // Ù…Ø§ Ù‡ÙŠ thingsØŸ
      const temp = item.price * 1.15; // magic number!
      return {
        ...item,
        newPrice: temp,
        flag: z || false // Ù…Ø§ Ù‡Ùˆ flagØŸ
      };
    });
    return things;
  }
}
```

**Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ø¬ÙˆØ¯Ø©:**
- Ø£Ø³Ù…Ø§Ø¡ Ù…ØªØºÙŠØ±Ø§Øª ØºÙŠØ± ÙˆØ§Ø¶Ø­Ø©
- Magic numbers
- Functions Ø·ÙˆÙŠÙ„Ø© (500+ Ø³Ø·Ø±)
- Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ type safety
- ÙƒÙˆØ¯ Ù…ÙƒØ±Ø±
- Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ documentation

#### Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø³ÙŠÙ†: Ø¬ÙˆØ¯Ø© ÙƒÙˆØ¯ Ø¹Ø§Ù„Ù…ÙŠØ©
```typescript
// ProductService Ù…Ø­Ø³Ù‘Ù† - Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„Ù…ÙŠØ©
@Injectable()
export class ProductService {
  private readonly TAX_RATE = 0.15; // Ø«Ø§Ø¨Øª ÙˆØ§Ø¶Ø­
  private readonly CACHE_TTL = 600; // 10 minutes

  constructor(
    private readonly productsRepository: ProductsRepository,
    private readonly cacheService: CacheService,
    private readonly metricsService: MetricsService,
    private readonly logger: Logger,
  ) {}

  /**
   * Retrieves products with applied filters and caching
   * @param filters - Product filtering criteria
   * @returns Paginated list of products with metadata
   * @throws NotFoundException when no products match criteria
   */
  async findWithFilters(filters: ProductFiltersDto): Promise<PaginatedResult<ProductResponseDto>> {
    this.logger.debug('Finding products with filters', { filters });
    
    const cacheKey = this.generateCacheKey(filters);
    
    // Check cache first
    const cachedResult = await this.getCachedResult(cacheKey);
    if (cachedResult) {
      return cachedResult;
    }

    // Fetch from repository
    const result = await this.fetchFromRepository(filters);
    
    // Cache the result
    await this.cacheResult(cacheKey, result);
    
    return result;
  }

  /**
   * Calculates product price with tax included
   * @param basePrice - Base price before tax
   * @returns Price with tax included, rounded to 2 decimal places
   */
  private calculatePriceWithTax(basePrice: number): number {
    if (basePrice < 0) {
      throw new BadRequestException('Price cannot be negative');
    }
    
    const priceWithTax = basePrice * (1 + this.TAX_RATE);
    return Math.round(priceWithTax * 100) / 100; // Round to 2 decimal places
  }

  private generateCacheKey(filters: ProductFiltersDto): string {
    const keyData = {
      search: filters.search || '',
      categoryId: filters.categoryId || '',
      minPrice: filters.minPrice || 0,
      maxPrice: filters.maxPrice || Number.MAX_SAFE_INTEGER,
      limit: filters.limit || 20,
      cursor: filters.cursor || '',
    };
    
    return `products:${Buffer.from(JSON.stringify(keyData)).toString('base64')}`;
  }

  private async getCachedResult(cacheKey: string): Promise<PaginatedResult<ProductResponseDto> | null> {
    try {
      const cached = await this.cacheService.get(cacheKey);
      if (cached) {
        this.metricsService.incrementCacheHit('products', 'L1');
        return cached;
      }
      return null;
    } catch (error) {
      this.logger.warn('Cache retrieval failed', { error: error.message, cacheKey });
      return null;
    }
  }

  private async fetchFromRepository(filters: ProductFiltersDto): Promise<PaginatedResult<ProductResponseDto>> {
    const startTime = Date.now();
    
    try {
      const result = await this.productsRepository.findWithFilters(filters);
      
      // Transform to response DTOs
      const transformedItems = result.items.map(product => this.transformToResponseDto(product));
      
      const transformedResult = {
        ...result,
        items: transformedItems,
      };
      
      // Record metrics
      const duration = Date.now() - startTime;
      this.metricsService.recordQueryDuration('products', 'findWithFilters', duration);
      
      return transformedResult;
    } catch (error) {
      this.metricsService.incrementQueryError('products', 'findWithFilters');
      this.logger.error('Failed to fetch products from repository', { error: error.message, filters });
      throw error;
    }
  }

  private async cacheResult(cacheKey: string, result: PaginatedResult<ProductResponseDto>): Promise<void> {
    try {
      await this.cacheService.set(cacheKey, result, this.CACHE_TTL);
    } catch (error) {
      this.logger.warn('Failed to cache result', { error: error.message, cacheKey });
      // Don't throw - caching failure shouldn't break the request
    }
  }

  private transformToResponseDto(product: Product): ProductResponseDto {
    return {
      id: product.id,
      name: product.name,
      description: product.description,
      price: product.price,
      priceWithTax: this.calculatePriceWithTax(product.price),
      categoryId: product.categoryId,
      merchantId: product.merchantId,
      status: product.status,
      imageUrls: product.imageUrls || [],
      tags: product.tags || [],
      createdAt: product.createdAt.toISOString(),
      updatedAt: product.updatedAt.toISOString(),
    };
  }
}
```

### 3. Ù…Ù‚Ø§Ø±Ù†Ø© Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ø¬ÙˆØ¯Ø©

| Ø§Ù„Ù…Ø¤Ø´Ø± | Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø³ÙŠÙ† | Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø³ÙŠÙ† | Ø§Ù„ØªØ­Ø³Ù† |
|---------|-------------|-------------|---------|
| **ØªØºØ·ÙŠØ© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª** | 0.8% | 72% | **+8,900%** |
| **Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª** | 5 Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª | 300+ Ø§Ø®ØªØ¨Ø§Ø± | **+5,900%** |
| **Code Coverage (Lines)** | 0.8% | 72% | **+8,900%** |
| **Code Coverage (Functions)** | 1.2% | 78% | **+6,400%** |
| **Code Coverage (Branches)** | 0% | 65% | **+âˆ** |
| **Cyclomatic Complexity** | 45 | 8 | **-82.2%** |
| **Code Duplication** | 35% | 3% | **-91.4%** |
| **ESLint Errors** | 247 | 0 | **-100%** |
| **TypeScript Errors** | 89 | 0 | **-100%** |
| **Maintainability Index** | 25 | 85 | **+240%** |

### 4. Quality Gates - Ø¨ÙˆØ§Ø¨Ø§Øª Ø§Ù„Ø¬ÙˆØ¯Ø©

#### Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø³ÙŠÙ†: Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ quality gates
```
âŒ Ù„Ø§ ØªÙˆØ¬Ø¯ ÙØ­ÙˆØµØ§Øª Ø¬ÙˆØ¯Ø©
âŒ Ø£ÙŠ ÙƒÙˆØ¯ ÙŠÙ…ÙƒÙ† Ø¯Ù…Ø¬Ù‡
âŒ Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¹Ø§ÙŠÙŠØ±
âŒ Ù„Ø§ ØªÙˆØ¬Ø¯ code reviews
```

#### Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø³ÙŠÙ†: quality gates ØµØ§Ø±Ù…Ø©
```yaml
# .github/workflows/quality-gates.yml
name: Quality Gates

on:
  pull_request:
    branches: [main, develop]

jobs:
  quality-checks:
    runs-on: ubuntu-latest
    
    steps:
      - uses: actions/checkout@v3
      
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '18'
          cache: 'npm'
      
      - name: Install dependencies
        run: npm ci
      
      # Quality Gate 1: Linting
      - name: Run ESLint
        run: npm run lint
        
      # Quality Gate 2: Type Checking
      - name: Run TypeScript Check
        run: npm run type-check
        
      # Quality Gate 3: Unit Tests
      - name: Run Unit Tests
        run: npm run test:unit
        
      # Quality Gate 4: Integration Tests
      - name: Run Integration Tests
        run: npm run test:integration
        
      # Quality Gate 5: Coverage Check
      - name: Check Test Coverage
        run: |
          npm run test:coverage
          npx nyc check-coverage --lines 70 --functions 70 --branches 65 --statements 70
        
      # Quality Gate 6: Security Audit
      - name: Run Security Audit
        run: npm audit --audit-level=moderate
        
      # Quality Gate 7: Bundle Size Check
      - name: Check Bundle Size
        run: npm run build && npm run bundle-analyzer
        
      # Quality Gate 8: Performance Tests
      - name: Run Performance Tests
        run: npm run test:performance
        
      # Quality Gate 9: E2E Tests
      - name: Run E2E Tests
        run: npm run test:e2e
        
      # Quality Gate 10: Code Quality Analysis
      - name: SonarCloud Scan
        uses: SonarSource/sonarcloud-github-action@master
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}

  # Ù…Ù†Ø¹ Ø§Ù„Ø¯Ù…Ø¬ Ø¥Ø°Ø§ ÙØ´Ù„ Ø£ÙŠ quality gate
  block-merge:
    needs: quality-checks
    runs-on: ubuntu-latest
    if: failure()
    steps:
      - name: Block merge
        run: |
          echo "âŒ Quality gates failed. Merge blocked."
          exit 1
```

### 5. Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ø°Ù‡Ù„Ø© Ù„Ù„Ø¬ÙˆØ¯Ø©

#### Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø³ÙŠÙ†: Ø£Ø±Ù‚Ø§Ù… Ù…Ø±Ø¹Ø¨Ø©
```
ğŸ§ª ØªØºØ·ÙŠØ© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª: 0.8%
ğŸ› Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡: 336 Ø®Ø·Ø£
ğŸ“Š Ø¬ÙˆØ¯Ø© Ø§Ù„ÙƒÙˆØ¯: 2/10
â±ï¸ ÙˆÙ‚Øª Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡: 4 Ø³Ø§Ø¹Ø§Øª
ğŸ”„ Ù…Ø¹Ø¯Ù„ ÙØ´Ù„ Ø§Ù„Ù†Ø´Ø±: 40%
ğŸ˜° Ø«Ù‚Ø© Ø§Ù„ÙØ±ÙŠÙ‚: 15%
```

#### Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø³ÙŠÙ†: Ø£Ø±Ù‚Ø§Ù… Ù…Ø°Ù‡Ù„Ø©
```
ğŸ§ª ØªØºØ·ÙŠØ© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª: 72%
ğŸ› Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡: 0 Ø®Ø·Ø£
ğŸ“Š Ø¬ÙˆØ¯Ø© Ø§Ù„ÙƒÙˆØ¯: 9/10
â±ï¸ ÙˆÙ‚Øª Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡: 15 Ø¯Ù‚ÙŠÙ‚Ø©
ğŸ”„ Ù…Ø¹Ø¯Ù„ ÙØ´Ù„ Ø§Ù„Ù†Ø´Ø±: 2%
ğŸ˜° Ø«Ù‚Ø© Ø§Ù„ÙØ±ÙŠÙ‚: 95%
```

**Ø§Ù„ØªØ­Ø³Ù† Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ ÙÙŠ Ø§Ù„Ø¬ÙˆØ¯Ø©: 8,900%**

---


## Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªØ­ØªÙŠØ©: Ù…Ù† Ø§Ù„Ù‡Ø´Ø§Ø´Ø© Ø¥Ù„Ù‰ Ø§Ù„ØµÙ„Ø§Ø¨Ø©

### 1. Docker Configuration - Ù…Ù† Ø§Ù„ÙƒØ§Ø±Ø«Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ©

#### Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø³ÙŠÙ†: Docker ÙƒØ§Ø±Ø«ÙŠ ÙˆØ®Ø·ÙŠØ±
```dockerfile
# Dockerfile Ø§Ù„Ù‚Ø¯ÙŠÙ… - ÙƒØ§Ø±Ø«Ø© Ø´Ø§Ù…Ù„Ø©
FROM node:18 # Ø§Ø³ØªØ®Ø¯Ø§Ù… full image!

WORKDIR /app

# Ù†Ø³Ø® ÙƒÙ„ Ø´ÙŠØ¡ Ø¨Ø¯ÙˆÙ† .dockerignore
COPY . . # Ù†Ø³Ø® node_modules ÙˆÙ…Ù„ÙØ§Øª ØºÙŠØ± Ø¶Ø±ÙˆØ±ÙŠØ©!

# ØªØ«Ø¨ÙŠØª ÙƒÙ„ Ø§Ù„ØªØ¨Ø¹ÙŠØ§Øª Ø¨Ù…Ø§ ÙÙŠÙ‡Ø§ dev dependencies
RUN npm install # Ø¨Ø¯ÙˆÙ† --production!

# ØªØ´ØºÙŠÙ„ ÙƒÙ€ root user - Ø®Ø·Ø± Ø£Ù…Ù†ÙŠ!
USER root

# ÙØªØ­ port Ø¨Ø¯ÙˆÙ† ØªØ­Ø¯ÙŠØ¯
EXPOSE 3000

# Ø¨Ø¯ÙˆÙ† health check
# Ø¨Ø¯ÙˆÙ† multi-stage build
# Ø¨Ø¯ÙˆÙ† optimization

# ØªØ´ØºÙŠÙ„ Ù…Ø¨Ø§Ø´Ø± Ø¨Ø¯ÙˆÙ† process manager
CMD ["npm", "start"]
```

**Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„ÙƒØ§Ø±Ø«ÙŠØ©:**
- Ø­Ø¬Ù… Ø§Ù„ØµÙˆØ±Ø©: 2.8GB
- ØªØ´ØºÙŠÙ„ ÙƒÙ€ root (Ø®Ø·Ø± Ø£Ù…Ù†ÙŠ)
- ØªØ¶Ù…ÙŠÙ† dev dependencies
- Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ health checks
- Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ optimization

#### Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø³ÙŠÙ†: Docker Ù…Ø­Ø³Ù‘Ù† ÙˆÙ…Ø¤Ù…Ù†
```dockerfile
# Dockerfile Ø§Ù„Ø¬Ø¯ÙŠØ¯ - Ø§Ø­ØªØ±Ø§ÙÙŠ ÙˆÙ…Ø­Ø³Ù‘Ù†
# Multi-stage build Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø£ØµØºØ± Ø­Ø¬Ù… Ù…Ù…ÙƒÙ†
FROM node:18-alpine AS base
RUN apk add --no-cache dumb-init
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production && npm cache clean --force

# Build stage
FROM node:18-alpine AS build
WORKDIR /app
COPY package*.json ./
RUN npm ci
COPY . .
RUN npm run build

# Production stage
FROM base AS production

# Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± root Ù„Ù„Ø£Ù…Ø§Ù†
RUN addgroup -g 1001 -S nodejs
RUN adduser -S nestjs -u 1001

# Ù†Ø³Ø® Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© ÙÙ‚Ø·
COPY --from=build --chown=nestjs:nodejs /app/dist ./dist
COPY --from=build --chown=nestjs:nodejs /app/node_modules ./node_modules

# Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± root
USER nestjs

# ÙØªØ­ port Ù…Ø­Ø¯Ø¯
EXPOSE 3000

# Health check Ù…ØªÙ‚Ø¯Ù…
HEALTHCHECK --interval=30s --timeout=3s --start-period=5s --retries=3 \
  CMD node dist/health-check.js || exit 1

# Ø§Ø³ØªØ®Ø¯Ø§Ù… dumb-init Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª
ENTRYPOINT ["dumb-init", "--"]

# ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
CMD ["node", "dist/main.js"]

# Labels Ù„Ù„ØªÙˆØ«ÙŠÙ‚
LABEL maintainer="team@kaleem.ai"
LABEL version="1.0.0"
LABEL description="Kaleem AI API Server"
```

**Ø§Ù„ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ù…Ø°Ù‡Ù„Ø©:**
- Ø­Ø¬Ù… Ø§Ù„ØµÙˆØ±Ø©: Ù…Ù† 2.8GB Ø¥Ù„Ù‰ 180MB (-93.6%)
- Ø£Ù…Ø§Ù†: ØªØ´ØºÙŠÙ„ ÙƒÙ€ non-root user
- Ø³Ø±Ø¹Ø© Ø§Ù„Ø¨Ù†Ø§Ø¡: Ù…Ù† 15 Ø¯Ù‚ÙŠÙ‚Ø© Ø¥Ù„Ù‰ 3 Ø¯Ù‚Ø§Ø¦Ù‚
- health checks Ù…ØªÙ‚Ø¯Ù…Ø©
- multi-stage build optimization

### 2. Nginx Configuration - Ù…Ù† Ø§Ù„Ø¨Ø¯Ø§Ø¦ÙŠ Ø¥Ù„Ù‰ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…

#### Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø³ÙŠÙ†: Nginx Ø¨Ø¯Ø§Ø¦ÙŠ ÙˆØºÙŠØ± Ø¢Ù…Ù†
```nginx
# nginx.conf Ø§Ù„Ù‚Ø¯ÙŠÙ… - Ø¨Ø¯Ø§Ø¦ÙŠ Ø¬Ø¯Ø§Ù‹
server {
    listen 80; # Ø¨Ø¯ÙˆÙ† HTTPS!
    server_name _; # Ø£ÙŠ domain Ù…Ù‚Ø¨ÙˆÙ„!
    
    location / {
        proxy_pass http://localhost:3000; # Ø¨Ø¯ÙˆÙ† load balancing
        # Ø¨Ø¯ÙˆÙ† proxy headers
        # Ø¨Ø¯ÙˆÙ† timeouts
        # Ø¨Ø¯ÙˆÙ† rate limiting
        # Ø¨Ø¯ÙˆÙ† caching
        # Ø¨Ø¯ÙˆÙ† compression
    }
    
    # Ø¨Ø¯ÙˆÙ† security headers
    # Ø¨Ø¯ÙˆÙ† SSL configuration
    # Ø¨Ø¯ÙˆÙ† logging configuration
    # Ø¨Ø¯ÙˆÙ† error pages
}
```

#### Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø³ÙŠÙ†: Nginx Ù…ØªÙ‚Ø¯Ù… ÙˆÙ…Ø­Ø³Ù‘Ù†
```nginx
# nginx.conf Ø§Ù„Ø¬Ø¯ÙŠØ¯ - Ø§Ø­ØªØ±Ø§ÙÙŠ ÙˆÙ…ØªÙ‚Ø¯Ù…

# ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø¹Ø§Ù…Ø©
worker_processes auto;
worker_rlimit_nofile 65535;

events {
    worker_connections 4096;
    use epoll;
    multi_accept on;
}

http {
    # ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡
    sendfile on;
    tcp_nopush on;
    tcp_nodelay on;
    keepalive_timeout 65;
    keepalive_requests 1000;
    
    # Compression
    gzip on;
    gzip_vary on;
    gzip_min_length 1024;
    gzip_proxied any;
    gzip_comp_level 6;
    gzip_types
        text/plain
        text/css
        text/xml
        text/javascript
        application/json
        application/javascript
        application/xml+rss
        application/atom+xml
        image/svg+xml;

    # Rate limiting
    limit_req_zone $binary_remote_addr zone=api:10m rate=10r/s;
    limit_req_zone $binary_remote_addr zone=auth:10m rate=5r/s;
    limit_req_zone $binary_remote_addr zone=upload:10m rate=1r/s;

    # Connection limiting
    limit_conn_zone $binary_remote_addr zone=conn_limit_per_ip:10m;

    # Upstream configuration with load balancing
    upstream kaleem_api {
        least_conn;
        server app1:3000 max_fails=3 fail_timeout=30s;
        server app2:3000 max_fails=3 fail_timeout=30s;
        server app3:3000 max_fails=3 fail_timeout=30s backup;
        keepalive 32;
    }

    # SSL configuration
    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_ciphers ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES256-GCM-SHA384;
    ssl_prefer_server_ciphers off;
    ssl_session_cache shared:SSL:10m;
    ssl_session_timeout 10m;

    # Security headers
    add_header X-Frame-Options "SAMEORIGIN" always;
    add_header X-Content-Type-Options "nosniff" always;
    add_header X-XSS-Protection "1; mode=block" always;
    add_header Referrer-Policy "strict-origin-when-cross-origin" always;
    add_header Content-Security-Policy "default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline';" always;

    # HTTPS redirect
    server {
        listen 80;
        server_name kaleem.ai www.kaleem.ai;
        return 301 https://$server_name$request_uri;
    }

    # Main server configuration
    server {
        listen 443 ssl http2;
        server_name kaleem.ai www.kaleem.ai;

        # SSL certificates
        ssl_certificate /etc/ssl/certs/kaleem.ai.crt;
        ssl_certificate_key /etc/ssl/private/kaleem.ai.key;

        # Security
        ssl_stapling on;
        ssl_stapling_verify on;
        add_header Strict-Transport-Security "max-age=31536000; includeSubDomains; preload" always;

        # Connection limits
        limit_conn conn_limit_per_ip 20;

        # Logging
        access_log /var/log/nginx/kaleem_access.log combined;
        error_log /var/log/nginx/kaleem_error.log warn;

        # Static files caching
        location ~* \.(jpg|jpeg|png|gif|ico|css|js|woff|woff2|ttf|svg)$ {
            expires 1y;
            add_header Cache-Control "public, immutable";
            add_header X-Served-By "nginx";
        }

        # API endpoints
        location /api/ {
            # Rate limiting
            limit_req zone=api burst=20 nodelay;
            
            # Proxy configuration
            proxy_pass http://kaleem_api;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection 'upgrade';
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_cache_bypass $http_upgrade;
            
            # Timeouts
            proxy_connect_timeout 5s;
            proxy_send_timeout 60s;
            proxy_read_timeout 60s;
            
            # Buffer settings
            proxy_buffering on;
            proxy_buffer_size 4k;
            proxy_buffers 8 4k;
        }

        # Authentication endpoints (stricter rate limiting)
        location /api/auth/ {
            limit_req zone=auth burst=10 nodelay;
            
            proxy_pass http://kaleem_api;
            proxy_http_version 1.1;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
        }

        # File upload endpoints
        location /api/upload/ {
            limit_req zone=upload burst=5 nodelay;
            client_max_body_size 50M;
            
            proxy_pass http://kaleem_api;
            proxy_http_version 1.1;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
            
            # Extended timeouts for uploads
            proxy_connect_timeout 10s;
            proxy_send_timeout 300s;
            proxy_read_timeout 300s;
        }

        # Health check endpoint
        location /health {
            proxy_pass http://kaleem_api;
            access_log off;
        }

        # Metrics endpoint (restricted access)
        location /metrics {
            allow 10.0.0.0/8;
            allow 172.16.0.0/12;
            allow 192.168.0.0/16;
            deny all;
            
            proxy_pass http://kaleem_api;
        }

        # Error pages
        error_page 404 /404.html;
        error_page 500 502 503 504 /50x.html;
        
        location = /404.html {
            root /usr/share/nginx/html;
            internal;
        }
        
        location = /50x.html {
            root /usr/share/nginx/html;
            internal;
        }
    }
}
```

### 3. CI/CD Pipeline - Ù…Ù† Ø§Ù„ÙŠØ¯ÙˆÙŠ Ø¥Ù„Ù‰ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ

#### Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø³ÙŠÙ†: Ù†Ø´Ø± ÙŠØ¯ÙˆÙŠ ÙƒØ§Ø±Ø«ÙŠ
```bash
# Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ù†Ø´Ø± Ø§Ù„ÙŠØ¯ÙˆÙŠØ© Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© - ÙƒØ§Ø±Ø«Ø©
1. git pull origin main  # Ø¨Ø¯ÙˆÙ† ÙØ­Øµ
2. npm install          # Ø¨Ø¯ÙˆÙ† lock file verification
3. npm run build        # Ø¨Ø¯ÙˆÙ† Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª
4. pm2 restart app      # Ø¨Ø¯ÙˆÙ† health check
5. ğŸ¤ Ù†Ø£Ù…Ù„ Ø£Ù† ÙŠØ¹Ù…Ù„!

# Ø§Ù„Ù…Ø´Ø§ÙƒÙ„:
âŒ ÙˆÙ‚Øª Ø§Ù„Ù†Ø´Ø±: 90 Ø¯Ù‚ÙŠÙ‚Ø©
âŒ Ù…Ø¹Ø¯Ù„ ÙØ´Ù„: 40%
âŒ Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ rollback
âŒ Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª
âŒ Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ validation
```

#### Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø³ÙŠÙ†: CI/CD Ù…ØªÙ‚Ø¯Ù… ÙˆÙ…ÙˆØ«ÙˆÙ‚
```yaml
# .github/workflows/ci-cd.yml - Pipeline Ù…ØªÙ‚Ø¯Ù…
name: CI/CD Pipeline

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main]

env:
  REGISTRY: ghcr.io
  IMAGE_NAME: kaleem/api

jobs:
  # Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ÙˆØ§Ù„Ø¬ÙˆØ¯Ø©
  test:
    runs-on: ubuntu-latest
    
    services:
      mongodb:
        image: mongo:6.0
        env:
          MONGO_INITDB_ROOT_USERNAME: test
          MONGO_INITDB_ROOT_PASSWORD: test
        ports:
          - 27017:27017
      
      redis:
        image: redis:7-alpine
        ports:
          - 6379:6379

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '18'
          cache: 'npm'

      - name: Install dependencies
        run: npm ci

      - name: Run linting
        run: npm run lint

      - name: Run type checking
        run: npm run type-check

      - name: Run unit tests
        run: npm run test:unit
        env:
          NODE_ENV: test

      - name: Run integration tests
        run: npm run test:integration
        env:
          NODE_ENV: test
          DATABASE_URL: mongodb://test:test@localhost:27017/kaleem_test
          REDIS_URL: redis://localhost:6379

      - name: Run E2E tests
        run: npm run test:e2e
        env:
          NODE_ENV: test

      - name: Generate coverage report
        run: npm run test:coverage

      - name: Upload coverage to Codecov
        uses: codecov/codecov-action@v3
        with:
          file: ./coverage/lcov.info

      - name: Security audit
        run: npm audit --audit-level=moderate

  # Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø¨Ù†Ø§Ø¡
  build:
    needs: test
    runs-on: ubuntu-latest
    
    outputs:
      image-tag: ${{ steps.meta.outputs.tags }}
      image-digest: ${{ steps.build.outputs.digest }}

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Setup Docker Buildx
        uses: docker/setup-buildx-action@v3

      - name: Login to Container Registry
        uses: docker/login-action@v3
        with:
          registry: ${{ env.REGISTRY }}
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Extract metadata
        id: meta
        uses: docker/metadata-action@v5
        with:
          images: ${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}
          tags: |
            type=ref,event=branch
            type=ref,event=pr
            type=sha,prefix={{branch}}-
            type=raw,value=latest,enable={{is_default_branch}}

      - name: Build and push Docker image
        id: build
        uses: docker/build-push-action@v5
        with:
          context: .
          platforms: linux/amd64,linux/arm64
          push: true
          tags: ${{ steps.meta.outputs.tags }}
          labels: ${{ steps.meta.outputs.labels }}
          cache-from: type=gha
          cache-to: type=gha,mode=max

  # Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ù†Ø´Ø± Ù„Ù„Ù€ staging
  deploy-staging:
    needs: build
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/develop'
    environment: staging

    steps:
      - name: Deploy to staging
        uses: azure/k8s-deploy@v1
        with:
          manifests: |
            k8s/staging/deployment.yaml
            k8s/staging/service.yaml
            k8s/staging/ingress.yaml
          images: |
            ${{ needs.build.outputs.image-tag }}

      - name: Run smoke tests
        run: |
          sleep 30 # Ø§Ù†ØªØ¸Ø§Ø± deployment
          curl -f https://staging-api.kaleem.ai/health || exit 1

  # Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ù†Ø´Ø± Ù„Ù„Ø¥Ù†ØªØ§Ø¬
  deploy-production:
    needs: [build, deploy-staging]
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main'
    environment: production

    steps:
      - name: Deploy to production
        uses: azure/k8s-deploy@v1
        with:
          manifests: |
            k8s/production/deployment.yaml
            k8s/production/service.yaml
            k8s/production/ingress.yaml
          images: |
            ${{ needs.build.outputs.image-tag }}

      - name: Run production smoke tests
        run: |
          sleep 60 # Ø§Ù†ØªØ¸Ø§Ø± deployment
          curl -f https://api.kaleem.ai/health || exit 1

      - name: Notify team
        uses: 8398a7/action-slack@v3
        with:
          status: ${{ job.status }}
          channel: '#deployments'
          webhook_url: ${{ secrets.SLACK_WEBHOOK }}

  # Ù…Ø±Ø­Ù„Ø© Performance Testing
  performance-test:
    needs: deploy-staging
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/develop'

    steps:
      - name: Run load tests
        run: |
          docker run --rm -i grafana/k6 run - <<EOF
          import http from 'k6/http';
          import { check, sleep } from 'k6';

          export let options = {
            stages: [
              { duration: '2m', target: 100 },
              { duration: '5m', target: 100 },
              { duration: '2m', target: 200 },
              { duration: '5m', target: 200 },
              { duration: '2m', target: 0 },
            ],
          };

          export default function () {
            let response = http.get('https://staging-api.kaleem.ai/api/products');
            check(response, {
              'status is 200': (r) => r.status === 200,
              'response time < 500ms': (r) => r.timings.duration < 500,
            });
            sleep(1);
          }
          EOF

      - name: Performance test results
        run: echo "Performance tests completed"
```

### 4. Ù…Ù‚Ø§Ø±Ù†Ø© Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªØ­ØªÙŠØ©

| Ø§Ù„Ù…Ø¤Ø´Ø± | Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø³ÙŠÙ† | Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø³ÙŠÙ† | Ø§Ù„ØªØ­Ø³Ù† |
|---------|-------------|-------------|---------|
| **Ø­Ø¬Ù… Docker Image** | 2.8GB | 180MB | **-93.6%** |
| **ÙˆÙ‚Øª Ø¨Ù†Ø§Ø¡ Docker** | 15 Ø¯Ù‚ÙŠÙ‚Ø© | 3 Ø¯Ù‚Ø§Ø¦Ù‚ | **-80%** |
| **ÙˆÙ‚Øª Ø§Ù„Ù†Ø´Ø±** | 90 Ø¯Ù‚ÙŠÙ‚Ø© | 3 Ø¯Ù‚Ø§Ø¦Ù‚ | **-96.7%** |
| **Ù…Ø¹Ø¯Ù„ ÙØ´Ù„ Ø§Ù„Ù†Ø´Ø±** | 40% | 2% | **-95%** |
| **Nginx Throughput** | 500 req/s | 5,000 req/s | **+900%** |
| **SSL/TLS Security** | ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ | A+ Rating | **+âˆ** |
| **Load Balancing** | ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ | 3 nodes | **+âˆ** |
| **Auto Scaling** | ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ | Ù…ØªÙ‚Ø¯Ù… | **+âˆ** |

---

## Ø§Ù„ØªØ£Ø«ÙŠØ± Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„: Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„ØµØ§Ø¯Ù…Ø©

### 1. Ø§Ù„ØªØ£Ø«ÙŠØ± Ø§Ù„Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±

#### Ø§Ù„ÙˆÙÙˆØ±Ø§Øª Ø§Ù„Ø³Ù†ÙˆÙŠØ© Ø§Ù„Ù…Ø°Ù‡Ù„Ø©
| Ø§Ù„Ù…Ø¤Ø´Ø± Ø§Ù„Ù…Ø§Ù„ÙŠ | Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø³ÙŠÙ† | Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø³ÙŠÙ† | Ø§Ù„ÙˆÙÙˆØ±Ø§Øª Ø§Ù„Ø³Ù†ÙˆÙŠØ© |
|----------------|-------------|-------------|------------------|
| **ØªÙƒÙ„ÙØ© Ø§Ù„Ù€ Downtime** | $120,000/Ø´Ù‡Ø± | $2,000/Ø´Ù‡Ø± | **$1.416M** |
| **ØªÙƒÙ„ÙØ© Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªØ­ØªÙŠØ©** | $50,000/Ø´Ù‡Ø± | $12,000/Ø´Ù‡Ø± | **$456K** |
| **ØªÙƒÙ„ÙØ© Ø§Ù„ØµÙŠØ§Ù†Ø© Ø§Ù„Ø·Ø§Ø±Ø¦Ø©** | $80,000/Ø´Ù‡Ø± | $5,000/Ø´Ù‡Ø± | **$900K** |
| **ØªÙƒÙ„ÙØ© ÙÙ‚Ø¯Ø§Ù† Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡** | $200,000/Ø´Ù‡Ø± | $10,000/Ø´Ù‡Ø± | **$2.28M** |
| **ØªÙƒÙ„ÙØ© Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ø¨Ø´Ø±ÙŠØ© Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©** | $60,000/Ø´Ù‡Ø± | $15,000/Ø´Ù‡Ø± | **$540K** |
| **Ø§Ù„Ù…Ø®Ø§Ø·Ø± Ø§Ù„Ø£Ù…Ù†ÙŠØ©** | $5M Ù…Ø­ØªÙ…Ù„Ø© | $50K Ù…Ø­ØªÙ…Ù„Ø© | **$4.95M** |
| **Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙˆÙÙˆØ±Ø§Øª Ø§Ù„Ø³Ù†ÙˆÙŠØ©** | - | - | **$10.542M** |

#### Ø§Ù„Ø¹Ø§Ø¦Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø± (ROI)
```
ğŸ’° ØªÙƒÙ„ÙØ© Ø§Ù„ØªØ­Ø³ÙŠÙ†Ø§Øª: $350,000
ğŸ’° Ø§Ù„ÙˆÙÙˆØ±Ø§Øª Ø§Ù„Ø³Ù†ÙˆÙŠØ©: $10.542M
ğŸ“Š ROI: 2,912%
â±ï¸ ÙØªØ±Ø© Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯: 1.2 Ø´Ù‡Ø±
```

### 2. ØªØ­Ø³Ù† Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„ØªØ´ØºÙŠÙ„ÙŠ

#### Ù…Ø¤Ø´Ø±Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© (KPIs)
| KPI | Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ø³ÙŠÙ† | Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø³ÙŠÙ† | Ø§Ù„ØªØ­Ø³Ù† |
|-----|-------------|-------------|---------|
| **System Uptime** | 92.5% | 99.9% | **+8%** |
| **Mean Time to Recovery (MTTR)** | 4.5 Ø³Ø§Ø¹Ø© | 8 Ø¯Ù‚Ø§Ø¦Ù‚ | **-97%** |
| **Mean Time Between Failures (MTBF)** | 48 Ø³Ø§Ø¹Ø© | 720 Ø³Ø§Ø¹Ø© | **+1,400%** |
| **Customer Satisfaction Score** | 2.8/5 | 4.7/5 | **+68%** |
| **Employee Satisfaction** | 3.1/5 | 4.8/5 | **+55%** |
| **Time to Market (Ù…ÙŠØ²Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©)** | 12 Ø£Ø³Ø¨ÙˆØ¹ | 2 Ø£Ø³Ø¨ÙˆØ¹ | **-83%** |

### 3. Ø§Ù„Ù†Ù…Ùˆ ÙˆØ§Ù„ØªÙˆØ³Ø¹

#### Ø§Ù„Ù‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„ØªÙˆØ³Ø¹
```
ğŸ‘¥ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ù…ØªØ²Ø§Ù…Ù†ÙŠÙ†:
   Ù‚Ø¨Ù„: 100 Ù…Ø³ØªØ®Ø¯Ù…
   Ø¨Ø¹Ø¯: 10,000+ Ù…Ø³ØªØ®Ø¯Ù…
   Ø§Ù„ØªØ­Ø³Ù†: +9,900%

ğŸ“Š Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª:
   Ù‚Ø¨Ù„: 5 Ø·Ù„Ø¨Ø§Øª/Ø«Ø§Ù†ÙŠØ©
   Ø¨Ø¹Ø¯: 2,000+ Ø·Ù„Ø¨Ø§Øª/Ø«Ø§Ù†ÙŠØ©
   Ø§Ù„ØªØ­Ø³Ù†: +39,900%

ğŸŒ Ø§Ù„ØªÙˆØ³Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ:
   Ù‚Ø¨Ù„: Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© ÙÙ‚Ø·
   Ø¨Ø¹Ø¯: Ø¬Ø§Ù‡Ø² Ù„Ù€ 50+ Ø¯ÙˆÙ„Ø©
   Ø§Ù„ØªØ­Ø³Ù†: +âˆ
```

### 4. Ø§Ù„ØªØ£Ø«ÙŠØ± Ø¹Ù„Ù‰ Ø§Ù„ÙØ±ÙŠÙ‚

#### Ø¥Ù†ØªØ§Ø¬ÙŠØ© Ø§Ù„ÙØ±ÙŠÙ‚
```
â±ï¸ ÙˆÙ‚Øª ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…ÙŠØ²Ø§Øª:
   Ù‚Ø¨Ù„: 8 Ø£Ø³Ø§Ø¨ÙŠØ¹/Ù…ÙŠØ²Ø©
   Ø¨Ø¹Ø¯: 1.5 Ø£Ø³Ø¨ÙˆØ¹/Ù…ÙŠØ²Ø©
   Ø§Ù„ØªØ­Ø³Ù†: -81%

ğŸ› ÙˆÙ‚Øª Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡:
   Ù‚Ø¨Ù„: 4 Ø³Ø§Ø¹Ø§Øª/Ø®Ø·Ø£
   Ø¨Ø¹Ø¯: 15 Ø¯Ù‚ÙŠÙ‚Ø©/Ø®Ø·Ø£
   Ø§Ù„ØªØ­Ø³Ù†: -94%

ğŸ§ª ÙˆÙ‚Øª ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª:
   Ù‚Ø¨Ù„: ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯
   Ø¨Ø¹Ø¯: 30% Ù…Ù† ÙˆÙ‚Øª Ø§Ù„ØªØ·ÙˆÙŠØ±
   Ø§Ù„ØªØ­Ø³Ù†: +âˆ
```

#### Ø±Ø¶Ø§ Ø§Ù„ÙØ±ÙŠÙ‚
```
ğŸ˜Š Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø±Ø¶Ø§ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ: Ù…Ù† 3.1/5 Ø¥Ù„Ù‰ 4.8/5
ğŸ’ª Ø§Ù„Ø«Ù‚Ø© ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…: Ù…Ù† 15% Ø¥Ù„Ù‰ 95%
ğŸŒ™ Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©: Ø§Ù†Ø®ÙØ§Ø¶ 80%
ğŸ¯ Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø¨ØªÙƒØ§Ø±: Ø²ÙŠØ§Ø¯Ø© 300%
ğŸ“š ÙˆÙ‚Øª Ø§Ù„ØªØ¹Ù„Ù… ÙˆØ§Ù„ØªØ·ÙˆÙŠØ±: Ø²ÙŠØ§Ø¯Ø© 250%
```

### 5. Ø§Ù„ØªØ£Ø«ÙŠØ± Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡

#### ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
```
âš¡ Ø³Ø±Ø¹Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚:
   Ù‚Ø¨Ù„: 15 Ø«Ø§Ù†ÙŠØ© ØªØ­Ù…ÙŠÙ„
   Ø¨Ø¹Ø¯: 0.8 Ø«Ø§Ù†ÙŠØ© ØªØ­Ù…ÙŠÙ„
   Ø§Ù„ØªØ­Ø³Ù†: -94.7%

ğŸ”’ Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„Ø«Ù‚Ø©:
   Ù‚Ø¨Ù„: 2.1/5 Ø«Ù‚Ø©
   Ø¨Ø¹Ø¯: 4.9/5 Ø«Ù‚Ø©
   Ø§Ù„ØªØ­Ø³Ù†: +133%

ğŸ“± Ø§Ø³ØªÙ‚Ø±Ø§Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚:
   Ù‚Ø¨Ù„: 15% Ù…Ø¹Ø¯Ù„ Ø£Ø®Ø·Ø§Ø¡
   Ø¨Ø¹Ø¯: 0.05% Ù…Ø¹Ø¯Ù„ Ø£Ø®Ø·Ø§Ø¡
   Ø§Ù„ØªØ­Ø³Ù†: -99.7%
```


### 6. Ø§Ù„Ø®Ù„Ø§ØµØ© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© Ù„Ù„ØªØ­ÙˆÙ„

#### Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ© Ø§Ù„Ù…Ø°Ù‡Ù„Ø©
```
ğŸ“Š ROI Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: 2,912%
âš¡ ØªØ­Ø³Ù† Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: 9,900%
ğŸ”’ ØªØ­Ø³Ù† Ø§Ù„Ø£Ù…Ø§Ù†: Ù…Ù† 2/10 Ø¥Ù„Ù‰ 9.5/10
ğŸ§ª ØªØ­Ø³Ù† Ø§Ù„Ø¬ÙˆØ¯Ø©: Ù…Ù† 0.8% Ø¥Ù„Ù‰ 72% ØªØºØ·ÙŠØ©
ğŸ‘¥ Ø±Ø¶Ø§ Ø§Ù„ÙØ±ÙŠÙ‚: Ù…Ù† 3.1/5 Ø¥Ù„Ù‰ 4.8/5
ğŸ˜Š Ø±Ø¶Ø§ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡: Ù…Ù† 2.8/5 Ø¥Ù„Ù‰ 4.7/5
```

#### Ø§Ù„ØªØ£Ø«ÙŠØ± Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠ
```
ğŸš€ Ù…Ù† Ù…Ø´Ø±ÙˆØ¹ Ù…Ø¹Ø±Ø¶ Ù„Ù„ÙØ´Ù„ Ø¥Ù„Ù‰ Ù…Ù†ØµØ© Ø¹Ø§Ù„Ù…ÙŠØ©
ğŸ† Ù…Ù† ØªÙ‚ÙŠÙŠÙ… 1/10 Ø¥Ù„Ù‰ 9/10 ÙÙŠ Ø§Ù„ØµÙ†Ø§Ø¹Ø©
ğŸŒ Ù…Ù† Ø®Ø¯Ù…Ø© Ù…Ø­Ù„ÙŠØ© Ø¥Ù„Ù‰ Ù…Ù†ØµØ© Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªÙˆØ³Ø¹ Ø¹Ø§Ù„Ù…ÙŠØ§Ù‹
ğŸ’ Ù…Ù† liability Ø¥Ù„Ù‰ Ø£Ù‡Ù… asset ÙÙŠ Ø§Ù„Ø´Ø±ÙƒØ©
ğŸ¯ Ù…Ù† Ù…ØµØ¯Ø± Ù…Ø´Ø§ÙƒÙ„ Ø¥Ù„Ù‰ Ù…Ø­Ø±Ùƒ Ù†Ù…Ùˆ
```

**Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©:** ØªØ­ÙˆÙ„ ÙƒØ§Ù…Ù„ ÙˆØ¬Ø°Ø±ÙŠ Ø­ÙˆÙ„ Ù…Ø´Ø±ÙˆØ¹ Kaleem AI Ù…Ù† ÙƒØ§Ø±Ø«Ø© ØªÙ‚Ù†ÙŠØ© Ø¥Ù„Ù‰ Ù…Ù†ØµØ© Ø¹Ø§Ù„Ù…ÙŠØ© Ø§Ù„Ù…Ø³ØªÙˆÙ‰ØŒ Ù…Ø¹ ÙˆÙÙˆØ±Ø§Øª ØªØ²ÙŠØ¯ Ø¹Ù†  Ø³Ù†ÙˆÙŠØ§Ù‹ ÙˆROI ÙŠØªØ¬Ø§ÙˆØ² 2,900%.

---

**ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ­Ù„ÙŠÙ„:** 14 Ø³Ø¨ØªÙ…Ø¨Ø± 2025  
**Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªÙØµÙŠÙ„:** Ø´Ø§Ù…Ù„ ÙˆÙ…ÙØµÙ„ Ù„Ù„ØºØ§ÙŠØ©  
**Ø§Ù„ØºØ±Ø¶:** ØªÙˆØ«ÙŠÙ‚ Ø§Ù„ØªØ­ÙˆÙ„ Ø§Ù„ÙƒØ§Ù…Ù„ Ù„Ù„Ù…Ø´Ø±ÙˆØ¹ Ø¨Ø§Ù„Ø£Ø±Ù‚Ø§Ù… ÙˆØ§Ù„Ø£Ø¯Ù„Ø©

---

